var VER="4.0.4",DEBUG=!1,UNDEF="undefined",NOLINK="javascript:void(0)",LOCAL=0===location.protocol.indexOf("file:");String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.trunc=function(b){if(this.length<=b)return this.toString();b=this.substring(0,b-1);var a=b.lastIndexOf(" ");return(6<a&&20>b.length-a?b.substring(0,a):b)+"..."};String.prototype.startsWith=function(b){return 0===this.indexOf(b)};
String.prototype.endsWith=function(b){return this.substring(this.length-b.length)===b};String.prototype.getExt=function(){var b=this.lastIndexOf(".");return 0>=b||b>=this.length-1?"":this.substring(b+1).toLowerCase()};String.prototype.replaceExt=function(b){var a=this.lastIndexOf(".");return 0>=a?this:this.substring(0,a+1)+b};String.prototype.fixExtension=function(){return this.replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")};
String.prototype.getDir=function(){var b=this.split("#")[0];return b.substring(0,b.lastIndexOf("/")+1)};String.prototype.getFile=function(){var b=this.split("#")[0];return b.substring(b.lastIndexOf("/")+1)};String.prototype.fixUrl=function(){for(var b,a,d=this+"";0<(b=d.indexOf("../"));){if(1===b||-1===(a=d.lastIndexOf("/",b-2)))return d.substring(b+3);d=d.substring(0,a)+d.substring(b+2)}return d};
String.prototype.cleanupHTML=function(){for(var b=[[/<br>/gi,"\n"],[/\&amp;/gi,"&"],[/\&lt;/gi,"<"],[/\&gt;/gi,">"],[/\&(m|n)dash;/gi,"-"],[/\&apos;/gi,"'"],[/\&quot;/gi,'"']],a=this,d=b.length-1;0<=d;d--)a=a.replace(b[d][0],b[d][1]);return a};String.prototype.stripHTML=function(){return this.replace(/<\/?[^>]+>/gi,"")};String.prototype.stripQuote=function(){return this.replace(/\"/gi,"&quot;")};String.prototype.appendSep=function(b,a){return(this.length?this+(a||" &middot; "):"")+b};
String.prototype.rgb2hex=function(){if("#"===this.charAt(0)||"transparent"===this)return this;for(var b,a=this.match(/\d+/g),d="",c=0;c<a.length&&3>c;c++)b=parseInt(a[c],10).toString(16),d+=(2>b.length?"0":"")+b;return"#"+d};String.prototype.template=function(b){if(!b)return this;for(var a=this,d=0;d<b.length;d++)a=a.replace(RegExp("\\{"+d+"\\}","gi"),b[d]);return a};Math.minMax=function(b,a,d){a=isNaN(a)?parseFloat(a):a;return a<b?b:a>d?d:a};
var getCoords=function(b){return b.touches&&0<b.touches.length?{x:Math.round(b.touches[0].clientX),y:Math.round(b.touches[0].clientY)}:null!==b.clientX?{x:Math.round(b.clientX),y:Math.round(b.clientY)}:{x:UNDEF,y:UNDEF}},noAction=function(b){b.stopPropagation();b.preventDefault();return!1},fixFbComments=function(b){var a=window.location.href;-1===a.indexOf("?fb_comment_id=")?(a=a.split("#")[0],"/"===a[a.length-1]&&(a+=b)):a=a.split("?")[0];document.getElementById("fb-comments").setAttribute("data-href",
a)};(function(b,a){var d=function(){b(a).on({touchstart:function(){return a.touchMode=!0},mouseover:function(){a.touchMode=!1;return!0}})};/(Chrome|CriOS)/.test(navigator.userAgent)&&25<=parseInt(b.browser.version,10)?(a.touchMode=/Mobile/.test(navigator.userAgent),d()):b.browser.msie&&parseInt(10<=b.browser.version)?(a.touchMode=!navigator.msPointerEnabled,d()):a.touchMode="ontouchstart"in document})(jQuery,document);var log;
(function(b){var a,d=!1,c,e=1;log=function(f){DEBUG&&!d&&(a||(a=b('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:15px;z-index:99999"></div>').hover(function(){d=!0},function(){d=!1}).appendTo("body")),f===c?a.children(":first").empty().html(c+" ("+ ++e+")"):(b('<div style="height:2em;overflow:hidden;">'+f+"</div>").prependTo(a),c=f,e=1))};b.fn.logEvents=function(a){if(DEBUG){var c=a||"mousedown mouseup mouseover mouseout mousewheel dragstart click blur focus load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend";
return this.each(function(){b(this).on(c,function(a){"log"!==a.target.id&&log(a.type+' <span style="padding:0 4px;font-size:0.8em;background-color:#000;border-radius:4px;"><b>'+a.target.nodeName.toLowerCase()+"</b>"+(a.target.id?":"+a.target.id:"")+"</span>"+(a.relatedTarget?' <span style="padding:0 4px;font-size:0.8em;background-color:#800;border-radius:4px;"><b>'+a.relatedTarget.nodeName.toLowerCase()+"</b>"+(a.relatedTarget.id?":"+a.relatedTarget.id:"")+"</span>":""));return!0})})}};b.fn.logCss=
function(a,c,d){if(DEBUG){d=d||20;c=c||2E3;var e=new Date;return this.each(function(){var m=b(this),n=function(a){var b=new Date-e;log(b+"&nbsp;::&nbsp;"+a+" = "+m.css(a));b>c&&clearInterval(s)},s=setInterval(function(){if(b.isArray(a))for(var c=0;c<a.length;c++)n(a[c]);else n(a)},d)})}}})(jQuery);
(function(b){var a=["DOMMouseScroll","mousewheel"];if(b.event.fixHooks)for(var d=a.length;d;)b.event.fixHooks[a[--d]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=a.length;b;)this.addEventListener(a[--b],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var b=a.length;b;)this.removeEventListener(a[--b],c,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},
unmousewheel:function(a){return this.unbind("mousewheel",a)}});var c=function(a){var c=a||window.event,d=[].slice.call(arguments,1),h=0,k=0,m=0;a=b.event.fix(c);a.type="mousewheel";c.wheelDelta?h=c.wheelDelta/120:c.detail&&(h=-c.detail/3);m=h;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(m=0,k=-1*h);void 0!==c.wheelDeltaY&&(m=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(k=-1*c.wheelDeltaX/120);d.unshift(a,h,k,m);return(b.event.dispatch||b.event.handle).apply(this,d)}})(jQuery);
(function(b){b.cookie=function(a,d,c){var e,f,j=function(a){return/^(true|yes)$/.test(a)?!0:/^(false|no)$/.test(a)?!1:/^([\d.]+)$/.test(a)?parseFloat(a):a};if(1<arguments.length)return f=new Date,null===d?localStorage?localStorage.removeItem(a):document.cookie=encodeURIComponent(a)+"=; expires="+f.toGMTString()+"; path=/":/^(string|number|boolean)$/.test(typeof d)&&(f.setTime(f.getTime()+1E3*("number"!==typeof c?3600:c)),localStorage?localStorage.setItem(a,String(d)+"; "+String(f.getTime())):document.cookie=
encodeURIComponent(a)+"="+String(d)+"; expires="+f.toGMTString()+"; path=/"),d;if(a)if(localStorage){if(e=localStorage.getItem(a))if(e=e.split("; "),b.isArray(e)&&1<e.length){f=new Date;if(f.getTime()<parseInt(e[1],10))return j(e[0]);localStorage.removeItem(a)}else return j(e)}else{e=document.cookie.split(";");a+="=";for(var h=0;h<e.length;h++)f=e[h].trim(),0===f.indexOf(a)&&(f=f.substring(a.length),j(f))}return null}})(jQuery);
(function(b){var a={put:function(a,b){(b||window).location.hash=this.encoder(a)},get:function(a){a=(a||window).location.hash.replace(/^#/,"");try{return b.browser.mozilla?a:decodeURIComponent(a)}catch(c){return a}},encoder:encodeURIComponent},d={id:"__jQuery_history",init:function(){var a='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';b("body").prepend(a);return this},_document:function(){return b("#"+this.id)[0].contentWindow.document},put:function(b){var c=this._document();
c.open();c.close();a.put(b,c)},get:function(){return a.get(this._document())}},c={base:{callback:void 0,type:void 0,check:function(){},load:function(){},init:function(c,d){var h;h=b.extend({unescape:!1},d||{});var k=h.unescape;if(!0===k)h=function(a){return a};else{if(h="string"===typeof k){h=k.split("");var m=RegExp(b.map(h,encodeURIComponent).join("|"),"ig");h=k=function(a){return a.replace(m,decodeURIComponent)}}h=h||"function"===typeof k?function(a){return k(encodeURIComponent(a))}:encodeURIComponent}a.encoder=
h;e.callback=c;e._options=d;e._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var b=a.get();e._appState=b;e.callback(b);setInterval(e.check,100)},check:function(){var b=a.get();b!==e._appState&&(e._appState=b,e.callback(b))},load:function(b){b!==e._appState&&(a.put(b),e._appState=b,e.callback(b))}},iframeTimer:{_appState:void 0,_init:function(){var b=a.get();e._appState=b;d.init().put(b);e.callback(b);setInterval(e.check,100)},check:function(){var b=d.get(),c=a.get();
c!==b&&(c===e._appState?(e._appState=b,a.put(b),e.callback(b)):(e._appState=c,d.put(c),e.callback(c)))},load:function(b){b!==e._appState&&(a.put(b),d.put(b),e._appState=b,e.callback(b))}},hashchangeEvent:{_init:function(){e.callback(a.get());b(window).on("hashchange",e.check)},check:function(){e.callback(a.get())},load:function(b){a.put(b)}}},e=b.extend({},c.base);e.type=b.browser.msie&&(8>b.browser.version||8>document.documentMode)?"iframeTimer":"onhashchange"in window?"hashchangeEvent":"timer";
b.extend(e,c[e.type]);b.history=e})(jQuery);
(function(b){b.fn.addModal=function(a,d,c){"string"===typeof a&&(a=b(a));if(a instanceof b&&a.length){b.isArray(d)||(c=d,d=null);c=b.extend({},b.fn.addModal.defaults,c);c.savePosition=c.savePosition&&typeof c.uid!==UNDEF;var e,f,j,h,k,m,n=0,s;e=b(this).find(b("._m_window"));e.length||(e=b("<div>",{"class":"_m_window",role:"modal"}).css({opacity:0}).appendTo(b(this)),b(this).css({position:"relative"}),c.darkenBackground||e.css({backgroundImage:"none",backgroundColor:"transparent"}));c.uid&&e.find("#"+
c.uid).remove();f=b("<div>",{id:c.uid||"_mod_"+Math.floor(1E4*Math.random()),"class":"_m_panel"}).css({width:c.width}).appendTo(e);j=b("<header>",{"class":"_m_head"}).appendTo(f);j.append(b("<h5>",{text:c.title}));var r=function(){h.trigger("removeHint");s=clearTimeout(s);e.animate({opacity:0},c.speed,function(){e.remove()});return!1};if(c.closeOnClickOut&&c.darkenBackground)e.on("click",function(a){b(a.target).hasClass("_m_window")&&r(a);return!0});h=b("<a>",{href:NOLINK,"class":"close"}).appendTo(j);
document.touchMode?h[0].ontouchend=r:(h.on("click",r),h.addHint(c.closeWindow));var l=function(a){var d=f.position().left,l=f.position().top,g=getCoords(a),h=e.width()-f.width()-c.pad,s=e.height()-f.height()-c.pad,k=j.css("cursor");j.css({cursor:"move"});var m=function(a){a=getCoords(a);f.css({left:Math.minMax(c.pad,d+a.x-g.x,h),top:Math.minMax(c.pad,l+a.y-g.y,s)});return!1},x=function(){b(document).off({mousemove:m,mouseup:x});j.css("cursor",k);c.savePosition&&p();return!1};if(document.touchMode)this.ontouchmove=
m,this.ontouchend=x;else b(document).on({mousemove:m,mouseup:x});return!1};if(document.touchMode)j[0].ontouchstart=l;else j.on("mousedown",l);k=b("<div>",{"class":"_m_cont"}).appendTo(f);m=b("<div>",{"class":"_m_cont_i"}).append(a).appendTo(k);if(d&&d.length){var y,w=b("<div>",{"class":"buttons"}).appendTo(m),q=function(a){y.each(function(c){b(this).toggleClass("active",c===a)})},t=function(){b(document).off("keydown",g);r()},g=function(a){if(document.activeElement&&"input"===document.activeElement.nodeName||
b.isFunction(c.enableKeyboard)&&!c.enableKeyboard())return!0;var d=a?a.keyCode:window.event.keyCode;if(27===d)return t(),!1;if(w){var e=w.find("a.active"),f=y.index(e);switch(d){case 13:case 10:b.isFunction(e[0].handler)&&(e[0].handler.call(),t());break;case 39:q((f+1)%y.length);break;case 37:q(f?f-1:y.length-1);break;default:return a.returnValue=!0}return!1}return a.returnValue=!0},v=function(a){a=a.target;b.isFunction(a.handler)&&a.handler.call();t();return!1};for(a=0;a<d.length;a++)a&&w.append(" "),
l=b("<a>",{href:NOLINK,html:d[a].t}).on("click",v).appendTo(w),b.isFunction(d[a].h)&&(l[0].handler=d[a].h);y=w.children("a");y.last().addClass("active");if(b.isFunction(c.enableKeyboard)||c.enableKeyboard)b(document).on("keydown",g)}if(c.resizable)if(j.on("dblclick",function(){var a=[f.position().left,f.position().top,f.width(),f.height()],b=[c.pad,c.pad,e.width()-2*c.pad,e.height()-2*c.pad],d=function(a){f.css({left:Math.minMax(c.gap,a[0],e.width()-a[2]-c.gap),top:Math.minMax(c.gap,a[1],e.height()-
a[3]-c.gap),width:a[2],height:a[3]});m.css({height:a[3]-n})};a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]?d(f.data("wpos")):(d(b),f.data("wpos",a));c.savePosition&&p();return!1}),d=b("<a>",{"class":"resize"}).appendTo(f),a=function(a){var d=f.width(),e=f.height(),l=getCoords(a),g=function(a){a=getCoords(a);var b=Math.max(e+a.y-l.y-n,20);f.css({width:Math.max(d+a.x-l.x,60),height:b+n});m.css({height:b});return!1},h=function(){b(document).off({mousemove:g,mouseup:h});c.savePosition&&p();return!1};
if(document.touchMode)this.ontouchmove=g,this.ontouchend=h;else b(document).on({mousemove:g,mouseup:h});return!1},document.touchMode)d[0].ontouchstart=a;else d.on("mousedown",a);var z=function(){var a=f.width(),b=f.height(),d=e.width(),l=e.height();n=b-m.height();a&&(b&&d&&l)&&(a+2*c.pad>d&&f.css({width:a=d-2*c.pad}),b+2*c.pad>l&&(f.css({height:b=l-2*c.pad}),m.css({height:l-2*c.pad-n})),f.css({left:Math.max(Math.round((d-a)/2),c.pad),top:Math.max(Math.round((l-b)/2),c.pad)}))},p=function(){b.cookie("modalPosition"+
c.uid,f.position().left+","+f.position().top+","+f.width()+","+f.height())},x=c.savePosition?b.cookie("modalPosition"+c.uid):null;e.css({opacity:0}).show();setTimeout(function(){if(x&&(x=x.split(","))&&b.isArray(x)&&3<x.length){var a=x,d=e.width(),l=e.height(),g=Math.minMax(c.pad,parseInt(a[0],10),d-c.pad-60),h=Math.minMax(c.pad,parseInt(a[1],10),l-c.pad-60),a=Math.minMax(60,parseInt(a[2],10),d-g-c.pad),y;(isNaN(g)||isNaN(h)||isNaN(a)||isNaN(y))&&z();n=j.outerHeight()+parseInt(k.css("padding-top"),
10)+parseInt(k.css("padding-bottom"),10)+parseInt(m.css("padding-top"),10)+parseInt(m.css("padding-bottom"),10)+parseInt(k.css("border-top-width"),10);f.css({position:"absolute",left:g,top:h,width:a});if(f.height()>(y=l-h-c.pad))f.css({height:y}),m.css({height:y-n})}else z();e.animate({opacity:1},c.speed);c.savePosition&&p();c.autoFade&&(s=setTimeout(r,c.autoFade))},40);return this}};b.fn.addModal.defaults={speed:250,autoFade:0,width:400,resizable:!0,enableKeyboard:!0,closeOnClickOut:!0,closeWindow:"Close window",
darkenBackground:!0,savePosition:!0,pad:6}})(jQuery);
(function(b){b.fn.addHint=function(a,d){a&&("string"!==typeof a&&!a.jquery)&&(d=a,a=null);d=b.extend({},b.fn.addHint.defaults,d);return this.each(function(){var c=b(this),e=a||c.attr("title"),f,j=!1,h=!1,k=!(e&&e.jquery),m;if(e&&e.length){var n=function(){if(k){var a=b("#"+d.id);a.length||(a=b("<div>",{"class":d.id,id:d.id}).hide().appendTo("body"));m=a;m.empty().html(e)}else m=e.show();m.off("mouseover",s);m.off("mouseout",w);var s=function(){f=clearTimeout(f);j=!0;m.stop(!0,!0).css({opacity:1}).show()},
w=function(){h||(f=clearTimeout(f),j=!1,r())};m.on("mouseover",s);m.on("mouseout",w);m.find("input").on({focus:function(){h=!0;s()},blur:function(){h=!1}});m.stop(!0,!0).alignTo(c,{posX:d.posX,posY:d.posY,toX:d.toX,toY:d.toY});m.css({opacity:0}).show().animate({opacity:1},200);document.touchMode?f=setTimeout(r,d.stay):j=!0},s=function(){j=!1;f=clearTimeout(f);r()};c.on("removeHint",s);var r=function(){!j&&(m&&m.length)&&m.stop(!0,!1).animate({opacity:0},200,function(){b(this).hide()})};e.jquery?e.addClass(d.id):
c.removeAttr("title");c.on(document.touchMode?{touchstart:n}:{"focus mouseenter":n,"blur mouseleave":s})}})};b.fn.addHint.defaults={id:"hint",stay:3E3,posX:1,posY:2,toX:1,toY:0}})(jQuery);
(function(b){b.fn.loadImages=function(a){a=b.extend({},b.fn.loadImages.defaults,a);var d=b.browser.msie;return this.each(function(){var c=b(this),e=c.find(a.selector)||c.children().eq(0);if(e.length&&c.is(":visible")&&e.is(":visible")){var f=e.find("img."+a.loadClass);if(f.length){var j=-(typeof a.left!==UNDEF?a.left:e.position().left-c.scrollLeft())-a.d,h=-(typeof a.top!==UNDEF?a.top:e.position().top-c.scrollTop())-a.d,k=e.offset().left,m=e.offset().top,n=c.width()+2*a.d,s=c.height()+2*a.d,r,l,y,
w,q;f.each(function(){l=b(this);r=l.parent();if(q=l.data("src"))w=r.offset().left-k,y=r.offset().top-m,y<h+s&&(w<j+n&&y+r.outerHeight()>h&&w+r.outerWidth()>j)&&(l.attr({src:q}).removeClass(a.loadClass),d&&(l[0].complete?l.attr({width:l[0].naturalWidth,height:l[0].naturalHeight}):l.on("load",function(){b(this).attr({width:this.naturalWidth,height:this.naturalHeight})}).attr({src:q})))})}}})};b.fn.loadImages.defaults={selector:".cont",loadClass:"toload",d:80}})(jQuery);
(function(b){b.fn.addScroll=function(a){a=b.extend({},b.fn.addScroll.defaults,a);return this.each(function(){var d,c=b(this),e=c.parent(),f,j,h,k,m,n,s,r,l=0,y,w,q,t,g,v,z;c.css({position:"absolute",width:e.width-20});e.css({overflow:"hidden"});"absolute"!==e.css("position")&&e.css({position:"relative"});f=b("<div>",{"class":a.upbtn}).appendTo(e);j=b("<div>",{"class":a.dnbtn}).appendTo(e);h=b("<div>",{"class":a.scbar}).appendTo(e);k=b("<div>").appendTo(h);m=f.add(j).add(h);m.hide();var p=function(){return c.position().top},
x=function(a){return Math.round((h.height()-6)*-(null==a?p():a)/n)+3},u=function(){return Math.max(Math.round((h.height()-6)*s/n),a.dragMinSize)},B=function(b){null==b&&(b=p());f.css({opacity:b?1:a.disabledOpacity});j.css({opacity:b===s-n?a.disabledOpacity:1})},D=function(){return!1},C=function(){var a=n,b=s;n=c.height();s=e.height();if(a!==n||b!==s)n<=s?(c.css({top:0}).off("selectstart",D),m.hide()):(c.position().top<s-n&&c.css({top:s-n}),k.css({top:x(),height:u()}),c.on("selectstart",D),m.show(),
B()),e.loadImages()},A=function(b){clearInterval(r);s>=n||(b=Math.minMax(s-n,Math.round(b),0),k.stop(!0,!0).animate({top:x(b)},a.speed,a.effect),c.stop(!0,!0).animate({top:b},a.speed,a.effect,function(){B(b)}),e.loadImages({top:b}))};f.on("click",function(){A(p()+s);return!1});j.on("click",function(){A(p()-s);return!1});h.on("click",function(a){a.pageY<k.offset().top?A(p()+s):a.pageY>k.offset().top+k.height()&&A(p()-s);return!1});if(a.enableMouseWheel)c.on("mousewheel",function(b,c){c&&A(p()+a.wheelIncr*
(0>c?-1:1));return!1});var G=function(a){k.css({top:Math.minMax(2,Math.round(a.pageY-k.data("my")),h.height()-k.height()-2)});c.css({top:Math.minMax(s-n,-Math.round((k.position().top-3)*n/(h.height()-6)),0)});B();e.loadImages();return!1},M=function(){b(document).off("mousemove",G).off("mouseup",M);return!1};k.on("mousedown",function(a){b(this).data("my",Math.round(a.pageY)-b(this).position().top);b(document).on({mousemove:G,mouseup:M});return!1});var F=function(a){return l=a.touches&&0<a.touches.length?
a.touches[0].clientY:a.clientY?a.clientY:l},N=function(){v+=Math.round(g/20);var a=t+v;0<a||a<z?clearInterval(r):(c.css({top:a}),k.css({top:x(),height:u()}),g*=0.8,10>Math.abs(g)&&(g=0,clearInterval(r)))},T=function(a){c.data("dragOn",!0);if(w){if(a=F(a)-w)c.css({top:Math.minMax(z,y+a,0)}),k.css({top:x(),height:u()})}else w=F(a);return!1},Q=function(a){t=p();a=F(a)-w;var d=(new Date).getTime()-q;g=1E3*a/d;r=setInterval(N,50);document.touchMode?this.ontouchend=this.ontouchmove=null:b(document).off({mousemove:T,
mouseup:Q});setTimeout(function(){c.data("dragOn",!1)},20);e.loadImages();return 4>Math.abs(a)&&300>d},X=function(d){if(c.data("dragOn"))return Q(d),!0;if(d.target.scrollHeight-1>d.target.clientHeight||a.dontDrag&&(b(d.target).is(a.dontDrag).length||b(d.target).parents(a.dontDrag).length)||s>=n||("touchstart"===d.type||"touchmove"===d.type)&&(!d.touches||1<d.touches.length||c.is(":animated")))return!0;clearInterval(r);y=p();w=F(d);q=(new Date).getTime();v=0;z=s-n;if(document.touchMode)return b(d.target).closest("a").focus(),
this.ontouchmove=T,this.ontouchend=Q,!0;b(document).on({mousemove:T,mouseup:Q});return!1};if(document.touchMode)c[0].ontouchstart=X;else c.on("mousedown",X);b(window).on("resize",function(){clearTimeout(d);d=setTimeout(C,50)});d=setTimeout(C,10);a.refresh&&setInterval(function(){b("[role=gallery]").is(":visible")||C()},a.refresh);c.attr("role","scroll").data("dragOn",!1).on("adjust",C);m.on("selectstart",D);c.find("a").on("setactive",function(){var a=b(this).parent()===c?b(this):b(this).parent(),
d=a.position().top,a=a.outerHeight(!0),f=c.position().top,l=e.height();if(!(l>c.height())){if(d+a>l-f)f=Math.max(l-a-d,l-c.height());else if(d<-f)f=-d;else return;A(f)}});c.on("click",function(){return!b(this).data("dragOn")});if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(document).on("keydown",function(c){if(document.activeElement&&"INPUT"===document.activeElement.nodeName||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return!0;switch(c?c.keyCode:window.event.keyCode){case 33:return A(p()+
s),!1;case 34:return A(p()-s),!1}return c.returnValue=!0})})};b.fn.addScroll.defaults={upbtn:"scrup",dnbtn:"scrdn",scbar:"scrbar",dragMinSize:10,speed:300,effect:"swing",disabledOpacity:0.3,wheelIncr:50,enableKeyboard:!0,enableMouseWheel:!0,refresh:0}})(jQuery);
(function(b){b.extend(jQuery.easing,{easeOutBack:function(a,b,c,e,f,j){null==j&&(j=1.70158);return e*((b=b/f-1)*b*((j+1)*b+j)+1)+c}});b.fn.scrollThumbs=function(a){a=b.extend({},b.fn.scrollThumbs.defaults,a);return this.each(function(){var d=b(this),c=d.parent(),e=0,f,j,h,k,m,n,s,r,l=b("<div>",{"class":a.scleft}).insertAfter(c),y=b("<div>",{"class":a.scright}).insertAfter(c),w=function(b){b=null==b?d.position().left:b;l.css({opacity:0>b?1:a.disabledOpacity});y.css({opacity:c.width()<b+d.width()?1:
a.disabledOpacity})},q=function(e){var f=c.width(),l=d.width();f&&(l&&!(f>=l)&&b.isNumeric(e))&&(0<e?e=0:e<f-l&&(e=f-l),w(e),d.stop(!0,!1),d.animate({left:e},a.speed,a.effect),c.loadImages({left:e}))};l.on("click",function(){q(d.position().left+c.width());return!1});y.on("click",function(){q(d.position().left-c.width());return!1});d.on("setactive",function(){var b=d.find(a.active).closest("li");if(b.length){var e=b.position().left,b=b.outerWidth(!0),f=Math.round(b*a.headRoom),l=d.position().left,
g=c.width();if(!(g>d.width())){if(e>g-b-f-l)l=Math.max(g-b-f-e,g-d.width());else if(e<-l+f)l=-e+f;else return;q(l)}}});var t=function(a,b){a.preventDefault();b&&q(d.position().left+c.width()*(0>b?-1:1));return!1};if(a.enableMouseWheel)d.on("mousewheel",t);w();var g=function(a){return e=a.touches&&0<a.touches.length?a.touches[0].clientX:a.clientX?a.clientX:e},v=function(){n+=Math.round(m/20);var a=k+n;0<a||a<s?clearInterval(r):(d.css({left:a}),m*=0.8,10>Math.abs(m)&&(m=0,clearInterval(r)))},z=function(a){if(j){if(a=
g(a)-j)d.data("dragOn",!0),d.css({left:Math.minMax(s,f+a,0)})}else j=g(a);return!1},p=function(a){k=d.position().left;a=g(a)-j;var e=(new Date).getTime()-h;m=1E3*a/e;r=setInterval(v,50);document.touchMode?this.ontouchend=this.ontouchmove=null:b(document).off({mousemove:z,mouseup:p});setTimeout(function(){d.data("dragOn",!1)},20);c.loadImages();return 4>Math.abs(a)&&300>e},t=function(a){if(("touchstart"===a.type||"touchmove"===a.type)&&(!a.touches||1<a.touches.length||d.is(":animated")))return!0;clearInterval(r);
f=d.position().left;j=g(a);h=(new Date).getTime();n=0;s=c.width()-d.width();if(document.touchMode)return b(a.target).closest("a").focus(),this.ontouchmove=z,this.ontouchend=p,!0;b(document).on({mousemove:z,mouseup:p});return!1};if(document.touchMode)d[0].ontouchstart=t;else d.on("mousedown",t);d.attr("role","scroll");d.add(l).add(y).on("selectstart",noAction);c.loadImages()})};b.fn.scrollThumbs.defaults={active:".active",scleft:"scleft",scright:"scright",speed:1500,incr:100,effect:"easeOutBack",headRoom:0.67,
disabledOpacity:0.3,enableMouseWheel:!0}})(jQuery);
(function(b){b.extend(jQuery.easing,{easeOutCubic:function(a,b,c,e,f){return e*((b=b/f-1)*b*b+1)+c}});b.fn.addSwipe=function(a,d,c){c=b.extend({},b.fn.addSwipe.defaults,c);return this.each(function(){var e=b(this),f=0,j=0,h=0,k=0,m,n,s,r,l,y,w,q,t,g,v,z;e.attr("draggable","true");var p=function(a){a.touches&&0<a.touches.length?(f=a.touches[0].clientX,j=a.touches[0].clientY):a.clientX&&(f=a.clientX,j=a.clientY)},x=function(a){p(a);h=f;k=j},u=function(a){document.touchMode&&(a.preventDefault(),a.stopPropagation());
h?(p(a),z?e.css({left:f-h+m}):e.css({left:f-h+m,top:j-k+n})):x(a);return!1},B=function(){return!1},D=function(l){p(l);var t=(new Date).getTime()-s;l=f-h;document.touchMode?(e[0].ontouchmove=null,e[0].ontouchend=null):b(document).off("mousemove",u).off("mouseup click",D);q<r?Math.abs(l)<c.treshold?(z?e.animate({left:m},200):e.animate({left:m,top:n},200),e.trigger("click")):(z?e.animate({left:e.position().left+Math.round(333*(f-h)/t)},500,"easeOutCubic"):e.animate({left:e.position().left+Math.round(333*
(f-h)/t),top:e.position().top+Math.round(333*(j-k)/t)},500,"easeOutCubic"),0>l?b.isFunction(a)&&a.call():b.isFunction(d)&&d.call()):(z?e.animate({left:Math.minMax(g,e.position().left+Math.round(333*(f-h)/t),c.margin)},500,"easeOutCubic"):e.animate({left:Math.minMax(g,e.position().left+Math.round(333*(f-h)/t),c.margin),top:Math.minMax(v,e.position().top+Math.round(333*(j-k)/t),c.margin)},500,"easeOutCubic"),t=e.position().left,0>l?t+q<y&&b.isFunction(a)&&a.call():t>w&&b.isFunction(d)&&d.call());return!1},
C=function(a){if(("touchstart"===a.type||"touchmove"===a.type)&&(!a.touches||1<a.touches.length||e.is(":animated")))return!0;x(a);A(a)},A=function(a){e.stop(!0,!1);m=e.position().left;n=e.position().top;s=(new Date).getTime();r=e.parent().outerWidth();l=e.parent().outerHeight();y=r*(1-c.oversizeTreshold);w=r*c.oversizeTreshold;q=e.outerWidth();t=e.outerHeight();g=r-c.margin-q;v=l-c.margin-t;z=t<=l;if(document.touchMode)return e[0].ontouchmove=u,e[0].ontouchend=D,!0;e.off("click");e.click(B);b(document).on({mousemove:u,
mouseup:D});a.cancelBubble=!0;return!1};if(document.touchMode)e[0].ontouchstart=C;else e.on({dragstart:A,mousedown:x});e.on("dragcancel",function(){e.stop(!0,!1).animate({left:m,top:n},200);return!1});e.on("unswipe",function(){document.touchMode?(e[0].ontouchmove=null,e[0].ontouchend=null,e[0].ontouchstart=null):(b.isFunction(e.noAction)&&e.off(B),b.isFunction(e.dragStart)&&e.off(A),b(document).off("mousemove",u).off("mouseup",D))});e.on("selectstart",B)})};b.fn.addSwipe.defaults={treshold:40,oversizeTreshold:0.15,
margin:15}})(jQuery);
(function(b){b.fn.alignTo=function(a,d){d=b.extend({},b.fn.alignTo.defaults,d);"string"===typeof a&&(a=b(a));if(a instanceof b&&a.length){var c=a.offset(),e=a.outerWidth(),f=a.outerHeight();return b(this).each(function(){var j=b(this).outerWidth(),h=b(this).outerHeight(),k=Math.round(c.left+d.toX*e/2+(d.toX-1)*d.gap),m=Math.round(c.top+d.toY*f/2+(d.toY-1)*d.gap),k=Math.round(k-d.posX*j/2),m=Math.round(m-d.posY*h/2);0>m?1!==d.toX?m=0:2!==d.toY&&(m=c.top+a.outerHeight()+d.gap):m+h>b(window).height()&&
(1!==d.toX?m=b(window).height()-h:0!==d.toY&&(m=c.top-h-d.gap));0>k?1!==d.toY?k=0:2!==d.toX&&(k=c.left+a.outerWidth()+d.gap):k+j>b(window).width()&&(1!==d.toY?k=b(window).width()-j:0!==d.toX&&(k=c.left-j-d.gap));b(this).css({position:"absolute",left:k,top:m})})}};b.fn.alignTo.defaults={gap:5,posX:1,posY:2,toX:1,toY:0}})(jQuery);
(function(b){b.fn.alertBox=function(a,d){b.isArray(a)||(d=a,a=null);d=b.extend({},b.fn.alertBox.defaults,d);b("#"+d.id).remove();var c=b("<div>",{id:d.id,role:"alertBox"}).appendTo("body"),e=b("<div>",{"class":"panel"}).appendTo(c),f,j;e.append(this);e.append(b("<a>",{"class":"close",href:NOLINK,text:" "}).on("click",function(){k();return!1}));a&&(f=b("<div>",{"class":"buttons"}).appendTo(e));e.css({width:d.width});var h=function(a){if(document.activeElement&&"input"===document.activeElement.nodeName||
b.isFunction(d.enableKeyboard)&&!d.enableKeyboard())return!0;var c=a?a.keyCode:window.event.keyCode;if(27===c)k();else if(f){var e=f.find("a.active"),h=j.index(e);switch(c){case 13:case 10:if(b.isFunction(e[0].handler))return e[0].handler.call(),k(),!1;break;case 39:return m((h+1)%j.length),!1;case 37:return m(h?h-1:j.length-1),!1}}return a.returnValue=!0},k=function(){b(document).off("keydown",h);c.fadeOut(250,function(){b(this).remove()})},m=function(a){j.each(function(c){b(this).toggleClass("active",
c===a)})};if(a&&a.length){for(var n,s=function(a){a=b(a.target);a.handler&&a.handler.call();k();return!1},r=0;r<a.length;r++)r&&f.append(" "),n=b("<a>",{href:NOLINK,html:a[r].t}).on("click",s).appendTo(f),b.isFunction(a[r].h)&&(n[0].handler=a[r].h);j=f.children("a");j.last().addClass("active")}if(b.isFunction(d.enableKeyboard)||d.enableKeyboard)b(document).on("keydown",h);c.fadeIn(250);e.css({marginTop:Math.max(Math.round(0.4*(b(window).height()-e.outerHeight())),0)});return this};b.fn.alertBox.defaults=
{id:"modal",width:420,enableKeyboard:!0}})(jQuery);
(function(b){b.fn.popupBox=function(a){a=b.extend({},b.fn.popupBox.defaults,a);b("#"+a.id).remove();var d,c=b("<div>",{id:a.id}).appendTo("body"),e=b("<div>",{"class":"panel"}).appendTo(c);e.css({width:a.width}).append(this);var f=function(){c.fadeOut(250,function(){b(this).remove()})};c.fadeIn(250,function(){d=setTimeout(f,a.length)});e.css({marginTop:Math.max(Math.round(0.4*(b(window).height()-e.outerHeight())),0)}).on({mouseover:function(){d=clearTimeout(d);b(this).stop(!0,!1).css("opacity",1)},
mouseout:function(){d=setTimeout(f,a.length)}});return this};b.fn.popupBox.defaults={id:"modal",width:200,length:500}})(jQuery);
(function(b){b.fn.addPlayer=function(a,d){a=b.extend({},b.fn.addPlayer.defaults,a);d=b.extend({},b.fn.addPlayer.text,d);if(typeof b.fn.jPlayer!==UNDEF){var c={cont:"jp-cont",mini:"jp-mini",audio:"jp-audio",video:"jp-video",playerType:"jp-type-single",player:"jp-jplayer",title:"jp-title",progress:"jp-progress",controls:"jp-controls-holder",startStop:"jp-startstop",volume:"jp-volume",times:"jp-times",toggles:"jp-toggles",warning:"jp-warning",videoPlay:"jp-video-play",play:"jp-play",pause:"jp-pause",
stop:"jp-stop",seekBar:"jp-seek-bar",playBar:"jp-play-bar",mute:"jp-mute",unmute:"jp-unmute",volumeBar:"jp-volume-bar",volumeBarValue:"jp-volume-bar-value",volumeMax:"jp-volume-max",currentTime:"jp-current-time",duration:"jp-duration",fullScreen:"jp-full-screen",restoreScreen:"jp-restore-screen",repeat:"jp-repeat",repeatOff:"jp-repeat-off",gui:"jp-gui",noSolution:"jp-no-solution",playing:"playing"},e=function(a){var b,e=function(a){return'<a class="'+c[a]+'" title="'+d[a]+'">'+d[a]+"</a>"};b='<div class="'+
c.progress+'"><div class="'+c.seekBar+'"><div class="'+c.playBar+'"></div></div></div>';b+='<div class="'+c.controls+'">';b+='<div class="'+c.startStop+'">'+e("play")+e("pause")+e("stop")+"</div>";b+='<div class="'+c.volume+'">'+e("mute")+e("unmute")+'<div class="'+c.volumeBar+'"><div class="'+c.volumeBarValue+'"></div></div></div>';b+='<div class="'+c.times+'"><div class="'+c.currentTime+'"></div><div class="'+c.duration+'"></div></div>';b+='<div class="'+c.toggles+'">'+(a?"":e("fullScreen")+e("restoreScreen"))+
e("repeat")+e("repeatOff")+"</div>";return b+"</div>"},f=function(){var a;(a=b(this).data("media"))&&a.jPlayer("pause");return!1},j=function(){var a;(a=b(this).data("media"))&&a.jPlayer("destroy");b(window).off("keydown",n);return!1},h=function(){var a;(a=b(this).data("media"))&&a.jPlayer("stop");return!1},k=function(){var a;(a=b(this).data("media"))&&a.jPlayer("play");return!1},m=b(this).eq(0),n=function(a){return document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)?
!0:32===(a?a.keyCode:window.event.keyCode)?(m.find("."+c.player).jPlayer(m.data(c.playing)?"pause":"play"),!1):!0},s=function(b){return a.hasOwnProperty("audio")?a.audio:0<".mp3.m4a.f4a.rtmpa".indexOf(b.getExt())},r=function(a){var b=s(a)?"a":"v";switch(a.getExt()){case "mp3":a="mp3";break;case "mp4":a="m4"+b;break;case "ogg":a="og"+b;break;case "webm":a="webm"+b;break;case "flv":case "f4a":case "f4v":a="fl"+b;break;case "rtmp":a="rtmp"+b;break;default:a=null}return a};return this.each(function(){var l=
b(this),m,w,q=a.folder||"",t,g,v,z,p,x=0;a.elem?(p=b(this).find(a.elem),g=p.attr("href"),v=p.attr("title"),w=p.find("img:first"),w.length?(z=w.attr("src"),v||(v=w.attr("alt"))):z=v=""):(g=a.src,v=a.title||"",z=a.poster||"",p=b('<a href="'+g+'"'+(v?' title="'+v+'"':"")+">"+(z?'<img src="'+z+'">':"")+"</a>").appendTo(b(this)));if(LOCAL){var u=b('<div class="'+c.warning+'">'+d.localFlashWarning+"</a></div>").appendTo(p);p.css("position","relative");u.hide();setTimeout(function(){u.fadeIn()},2E3)}if(g){a.auto&&
(a.lowPriority||b("."+c.cont).each(function(){if(b(this).data(c.playing))return!0}));0<g.indexOf("::")?(g=g.split("::"),m=s(g[0]),w=r(g[0])):(m=s(g),w=r(g));this.id||(this.id=a.id+b.fn.addPlayer.id++);t="#"+this.id;b(l).addClass(c.cont);a.mini&&b(l).addClass(c.mini);var B=m;"absolute"!==l.css("position")&&"fixed"!==l.css("position")&&l.css({position:"relative"});l.css({overflow:"hidden"});var D,C=b('<div class="'+(B?c.audio:c.video)+'"></div>').appendTo(l),C=b('<div class="'+c.playerType+'"></div>').appendTo(C);
D=b('<div class="'+c.player+'"></div>').appendTo(C);C.append('<div class="'+c.videoPlay+'"><a>'+d.play+"</a></div>");v&&C.append('<div class="'+c.title+'"><ul><li>'+v+"</li></ul></div>");C.append('<div class="'+c.gui+'">'+e(B)+"</div>");C.find("."+c.gui+" a").attr("href",NOLINK);l.append('<div class="'+c.noSolution+'">'+d.noSolution+"</div>");v=l.css("paddingTop");var B=l.css("paddingLeft"),C=l.css("paddingRight"),A=l.css("paddingBottom");l.find("."+c.gui).css({bottom:A,left:B,right:C});l.find("."+
c.title).css({top:v,left:B,right:C});var G=function(){var c={},d,e,f=a.relativeUrl?"":location.href.substring(0,location.href.lastIndexOf("/")+1);b.isArray(g)?(x>=g.length&&(x=0),d=g[x]):(d=g,z&&(c.poster=(f+q+z).fixUrl()));e=r(d);c[e]=(f+q+d).fixUrl();return c},M=function(){if(b.cookie){var a=l.find("."+c.currentTime).text().split(":"),a=2<a.length?60*(60*parseInt(a[0],10)+parseInt(a[1],10))+parseInt(a[2],10):60*parseInt(a[0],10)+parseInt(a[1],10);b.cookie("jp_"+l[0].id,(l.data(c.playing)?"1":"0")+
"::"+a+"::"+D.jPlayer("option","volume").toString().substring(0,5)+(x!==UNDEF?"::"+x:""))}};m=!m&&!(b.browser.mozilla&&0<=navigator.platform.indexOf("Mac"));D.jPlayer({cssSelectorAncestor:t,backgroundColor:a.backgroundColor,supplied:w,swfPath:a.resPath+"/"+a.swf,solution:a.solution,size:{width:"100%",height:"100%"},preload:"auto",loop:a.loop,volume:a.volume,autohide:{restored:m,full:m},ready:function(){var d=b(this),e;if(a.saveStatus)a:{if(b.cookie&&(e=b.cookie("jp_"+l[0].id))){e=e.split("::");e=
{playing:"1"===e[0],time:parseInt(e[1]||0,10),volume:parseFloat(e[2]||0.8),curr:parseInt(e[3]||0,10)};break a}e=null}else e=null;l.data("media",d);a.saveStatus&&(b(window).on("unload",M),e&&(x=e.curr));var g=G();p&&p.hide();l.find("."+c.gui).show();d.jPlayer("setMedia",g);l.on({play:k,pause:f,stop:h,destroy:j});a.saveStatus&&e?(d.jPlayer("volume",e.volume),d.jPlayer(e.playing?"play":"pause",e.time)):a.auto&&d.jPlayer("play");if(!a.lowPriority)b(window).on("keydown",n)},play:function(){b(this).jPlayer("pauseOthers");
l.data(c.playing,!0)},pause:function(){l.data(c.playing,!1)},stop:function(){l.data(c.playing,!1)},ended:function(){b.isArray(g)&&(x+1<g.length||a.loop)?(x=(x+1)%g.length,b(this).jPlayer("setMedia",G()),a.auto&&b(this).jPlayer("play")):(l.data(c.playing,!1),b.isFunction(a.ended)&&a.ended.call())}})}})}};b.fn.addPlayer.id=0;b.fn.addPlayer.defaults={id:"jp_container_",backgroundColor:"#000000",resPath:"",swf:"Jplayer.swf",relativeUrl:!1,solution:"html,flash",volume:0.8,auto:!1,loop:!1,keyboard:!0,lowPriority:!1,
saveStatus:!1,mini:!1,size:{width:"100%",height:"100%"}};b.fn.addPlayer.text={play:"play",pause:"pause",stop:"stop",mute:"mute",unmute:"unmute",fullScreen:"full screen",restoreScreen:"restore screen",repeat:"repeat",repeatOff:"repeat off",localFlashWarning:"Local Flash playback is possibly blocked by Flash security rules. Test videos in the uploaded album!",noSolution:'<span>Unsupported media format</span>You might need to either update your browser or the <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a> or use another browser to play this media.'}})(jQuery);
(function(b){b.getLatLng=function(a){return typeof google===UNDEF||null==a?null:"string"===typeof a?(a=/^(-?[\d.]+),\s?(-?[\d.]+)$/.exec(a),new google.maps.LatLng(a[1],a[2])):new google.maps.LatLng(a[0],a[1])};b.fn.addMap=function(a){if(typeof google===UNDEF||!google.maps)return this;a=b.extend({},b.fn.addMap.defaults,a);var d=a.resPath+"/marker-curr.png",c=a.resPath+"/marker.png",e=new google.maps.MarkerImage(d,new google.maps.Size(17,24),new google.maps.Point(0,0),new google.maps.Point(8,24)),f=
new google.maps.MarkerImage(c,new google.maps.Size(17,24),new google.maps.Point(0,0),new google.maps.Point(8,24)),j=new google.maps.MarkerImage(a.resPath+"/marker-shadow.png",new google.maps.Size(24,24),new google.maps.Point(0,0),new google.maps.Point(8,24));return this.each(function(){var h=b(this),k,m,n,s,r,l,y=[],w;h.readData(a,"type,zoom,map,label,resPath,markers");var q=function(){h.data("fresh")&&(h.is(":visible")&&!h.parents(":hidden").length&&h.width()&&h.height()?(clearTimeout(r),h.width(h.parent().width()),
google.maps.event.trigger(n,"resize"),n.setCenter(k),h.data("fresh",!1)):r=setTimeout(q,200))};s&&s.length&&s.remove();s=b("<div>").css({position:"absolute",top:"-9000px",width:h.width(),height:h.height()}).appendTo("body");h.data("fresh",!0).on({adjust:q,destroy:function(){n.getParentNode().removeChild(n);b(window).off("resize",q)}});if(a.markers&&a.markers.length&&null!=a.curr)k=a.markers[a.curr].map;else if(a.map)k=b.getLatLng(a.map),m=a.label;else return;if(null!==(l=b.cookie("mapType")))a.type=
l;if(null!==(l=b.cookie("mapZoom")))a.zoom=parseInt(l,10)||a.zoom;setTimeout(function(){var l,g=new google.maps.Map(s[0],{zoom:a.zoom,center:k,scrollwheel:!1,mapTypeId:a.type.toLowerCase()});google.maps.event.addListener(g,"maptypeid_changed",function(){b.cookie("mapType",b.fn.addMap.defaults.type=g.getMapTypeId(),3600)});google.maps.event.addListener(g,"zoom_changed",function(){b.cookie("mapZoom",b.fn.addMap.defaults.zoom=g.getZoom(),3600)});if(a.markers&&1<a.markers.length){var r,q,p=Math.max(a.curr-
a.range,0),x=Math.min(a.curr+a.range,a.markers.length),u=function(){a.click.call(this)};for(r=p;r<x;r++)q=a.markers[r],l={position:q.map,map:g,title:q.label,icon:r===a.curr?e:f,shadow:j,zIndex:r===a.curr?999:r},l=new google.maps.Marker(l),b.isFunction(a.click)&&q.link&&(l.link=q.link,google.maps.event.addListener(l,"click",u)),y.push(l)}else l=new google.maps.Marker(b.extend({position:k,map:g,title:m},d));s.css({top:0}).appendTo(h);n=g;w=a.curr;h.on("setactive",function(a,e){b.isArray(y)&&y.length&&
(w>=p&&(y[w].setIcon(c),y[w].setZIndex(w)),typeof e!==UNDEF&&e>=p&&e<p+y.length?(y[e-p].setIcon(d),y[e-p].setZIndex(9999),n.setCenter(y[e-p].position),w=e):w=-1)})},20);b(window).on("resize",function(){clearTimeout(r);h.data("fresh",!0);r=setTimeout(q,100)})})};b.fn.addMap.defaults={type:"roadmap",zoom:16,range:30,resPath:""}})(jQuery);
(function(b){b.fn.fullScreen=function(a){var d=b.browser.msie&&"ms"||b.browser.webkit&&"webkit"||b.browser.mozilla&&"moz"||b.browser.opera&&"o"||"",c=function(a,b){b="FullScreen"===b&&"webkit"===d?d+"Is"+b:d&&d+b||b.substr(0,1).toLowerCase()+b.substr(1);return"function"===typeof a[b]?a[b]():a[b]};return typeof a===UNDEF?c(this[0],"FullScreen"):this.each(function(){var b=c(this,"FullScreen");a?b||c(this,"RequestFullScreen"):b&&c(this,"CancelFullScreen")})}})(jQuery);
(function(b){b.fn.addShop=function(a){a=b.extend({},b.fn.addShop.defaults,a);b.fn.addInput=function(a,c,e,f){var j;return!a||null==c?this:this.each(function(){j=b("<input>",{type:e||"text"}).appendTo(b(this));j.prop("name",a);j.addClass(a);j.val("string"===typeof c?c.stripQuote():c);f&&j.prop(f,!0)})};b.fn.addSelect=function(a,c,e){return!a.length?this:this.each(function(){for(var f=b(this),f=b("<select>").appendTo(f),j=0;j<a.length;j++)f.append(b("<option>",{val:a[j].val,text:a[j].key+" ("+c+" "+
a[j].val+")"}));b.isFunction(e)&&f.change(e)})};return this.each(function(){var d=b(this),c,e,f;d.readData(a,"gateway,id,currency,handling,options,file");if(!(null==a.id||null==a.options||null==a.file)){for(var j="paypal"===a.gateway?{form:"paypal",seller:"business",currency:"currency_code",title:"item_name",select:"item_number",price:"amount",copies:"quantity",shipprice:"shipping",shipprice2:"shipping2",handling:"handling_cart",shopUrl:"shopping_url"}:{form:"google_checkout",currency:"item_currency_1",
title:"item_name_1",select:"item_description_1",price:"item_price_1",copies:"item_quantity_1",shipmethod:"ship_method_name_1",shipprice:"ship_method_price_1",shipcurrency:"ship_method_currency_1"},h=a.options.split("::"),k,m=[],n=0;n<h.length;n++)k=h[n].split("="),1<k.length&&m.push({key:k[0],val:k[1]});a.id=a.id.replace("|","@");var s=function(c){var d=e.children("[name^="+j.shipprice+"]");null===c||!1===c||!b.isNumeric(c)?"paypal"===a.gateway?d.remove():d.val(0):d.length?d.val(c):"paypal"===a.gateway&&
(e.addInput(j.shipprice,c,"hidden"),a.shippingFlat||e.addInput(j.shipprice2,c,"hidden"))},h=function(){var b=c.length?c.children("select").eq(0):!1;if(b&&b.length){var d,b=b.val().split("+"),f=c.children("[name=copies]").val()||1;a.quantityCap&&f>a.quantityCap&&c.children("[name=copies]").val(f=a.quantityCap);(d=c.children("[name=total]"))&&d.val((b[0]*f).toFixed(2));(d=e.children("[name="+j.price+"]"))&&d.val(b[0]);(d=e.children("[name="+j.copies+"]"))&&d.val(f);s(1<b.length?b[1]:null);(d=e.children("[name="+
j.select+"]"))&&d.val(c.find("option:selected").text())}};c=b("<form>",{name:"shopping",method:"post"}).appendTo(d);c.addSelect(m,a.currency,h);1!==a.quantityCap&&c.append("x").addInput("copies",1);c.append("=").addInput("total",m[0].val.split("+")[0],"text","readonly");c.children("[name=copies]").css({width:"3em"}).change(h);c.children("[name=total]").css({width:"5em"});c.append(a.currency);"paypal"===a.gateway?(f=m[0].val.split("+"),e=b("<form>",{name:j.form,target:a.continueUrl?"_blank":a.target,
action:"https://www.paypal.com/cgi-bin/webscr/",method:"post"}).appendTo(d),e.addInput("cmd","_cart","hidden"),e.addInput("add",1,"hidden"),e.addInput(j.seller,a.id,"hidden"),e.addInput(j.copies,1,"hidden"),e.addInput(j.price,f[0],"hidden"),e.addInput(j.currency,a.currency,"hidden"),s(1<f.length?f[1]:null),null!=a.handling&&b.isNumeric(a.handling)&&e.addInput(j.handling,a.handling,"hidden"),e.addInput(j.title,decodeURIComponent(a.path+a.file),"hidden"),e.addInput(j.select,m[0].key+" ("+a.currency+
" "+m[0].val+")","hidden"),e.addInput(j.shopUrl,a.continueUrl||decodeURIComponent(window.location.href),"hidden"),e.addInput("charset","utf-8","hidden"),e.addInput("lc",a.locale,"hidden"),e.append(b("<input>",{id:"shopAdd",type:"image",name:"submit",src:"https://www.paypal.com/en_US/i/btn/btn_cart_SM.gif",alt:"Add to Cart"})),f=b("<form>",{"class":"view",name:"paypalview",target:a.target,action:"https://www.paypal.com/cgi-bin/webscr/",method:"post"}).appendTo(d),f.addInput("cmd","_cart","hidden"),
f.addInput("display",1,"hidden"),f.addInput(j.seller,a.id,"hidden"),f.addInput("lc",a.locale,"hidden"),f.append(b("<input>",{id:"shopView",type:"image",name:"submit",src:"https://www.paypal.com/en_US/i/btn/btn_viewcart_SM.gif",alt:"View Cart"}))):"google"===a.gateway&&(h=a.id.match(/(\d+)/)[0],e=b("<form>",{name:j.form,target:a.target,action:"https://checkout.google.com/cws/v2/Merchant/"+h+"/checkoutForm",method:"post","accept-charset":"utf-8"}).appendTo(d),e.addInput(j.title,decodeURIComponent(a.path+
a.file),"hidden"),e.addInput(j.select,m[0].key,"hidden"),e.addInput(j.copies,1,"hidden"),e.addInput(j.price,m[0].val.split("+")[0],"hidden"),e.addInput(j.currency,a.currency,"hidden"),null!=a.shipping&&b.isNumeric(a.shipping)&&(e.addInput(j.shipmethod,"normal","hidden"),e.addInput(j.shipprice,a.shipping,"hidden"),e.addInput(j.shipcurrency,a.currency,"hidden")),e.addInput("_charset_","","hidden"),e.append(b("<input>",{id:"shopAdd",type:"image",name:"Google Checkout",alt:"Fast checkout through Google",
src:"http://checkout.google.com/buttons/checkout.gif?merchant_id="+h+"&w=160&h=43&style=trans&variant=text&loc=en_US",height:43,width:160})));e.add(f).find("input[name=submit]").on("submit",function(){window.open("",a.target,"width=960,height=600,scrollbars=yes,resizable=yes,menubar=no,toolbar=no,directories=no,status=no,copyhistory=no");return!0})}})};b.fn.addShop.defaults={target:"ShoppingCart",currency:"EUR",gateway:"paypal",locale:"US",quantityCap:0,shippingFlat:!1}})(jQuery);
(function(b){b.fn.addSocial=function(a){a=b.extend({},b.fn.addSocial.defaults,a);var d=window.location.href.split("#")[0]+(a.useHash?"#"+encodeURIComponent(a.hash||""):""),c=encodeURIComponent(a.title||b("meta[name=title]").attr("content")||b("title").text()),e=encodeURIComponent(a.callTxt),f=a.image?window.location.href.getDir()+a.image:b("link[rel=image_src]").attr("href");return this.each(function(){var j=b(this);"a"===this.nodeName&&j.attr("href",NOLINK);var h=b("<div>",{"class":a.id}).hide();
if(LOCAL&&!DEBUG)h.html(a.localWarning);else{a.facebookLike&&!a.useHash&&h.append('<div class="likebtn"><iframe src="http://www.facebook.com/plugins/like.php?href='+d+"&amp;layout=button_count&amp;show_faces=false&amp;width=110&amp;action=like&amp;font=arial&amp;colorscheme="+a.likeBtnTheme+'&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:110px; height:20px;" allowTransparency="true"></iframe></div>');a.twitterTweet&&!a.useHash&&h.append('<div class="likebtn"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+
d+"&text="+c+'" style="width:110px; height:20px;"></iframe></div>');if(a.googlePlus&&typeof gapi!==UNDEF&&!a.useHash){var k=b('<div class="g-plusone likebtn" data-size="medium" data-annotation="inline" data-href="'+d+'" data-width="110"></div>').appendTo(h);setTimeout(function(){gapi.plusone.render(k[0])},100)}a.tumblrBtn&&h.append('<div class="likebtn" id="tumblr"><a href="http://www.tumblr.com/share/'+(a.image?"photo?source=":"link?url=")+encodeURIComponent(d)+"&name="+c+'" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:110px; height:20px; background:url(http://platform.tumblr.com/v1/share_1.png) top left no-repeat transparent;">Tumblr</a></div>');
a.pinItBtn&&!a.useHash&&h.append('<div class="likebtn" style="height:21px;"><a data-pin-config="beside" href="//pinterest.com/pin/create/button/?url='+d+"&media="+f+"&description="+c+'" data-pin-do="buttonPin" ><img src="http://assets.pinterest.com/images/pidgets/pin_it_button.png" /></a></div>');a.facebook&&!a.useHash&&h.append('<a href="http://www.facebook.com/sharer.php?u='+d+"&t="+c+'" class="facebook">Facebook</a>');a.twitter&&h.append('<a href="http://twitter.com/home?status='+e+": "+d+'" class="twitter">Twitter</a>');
a.gplus&&h.append(b("<a>",{"class":"gplus",href:"https://plus.google.com/share?url="+d,title:"Share on Google+",text:"Google+"}).on("click",function(){window.open(this.href,this.title,"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=760,width=980");return!1}));a.digg&&h.append('<a href="http://digg.com/submit?url='+d+'" class="digg">Digg</a>');a.delicious&&h.append('<a href="http://delicious.com/save?url='+d+"&title="+c+'&v=5" class="delicious">Delicious</a>');a.myspace&&h.append('<a href="http://www.myspace.com/index.cfm?fuseaction=postto&t='+
c+"&u="+d+'&l=3" class="myspace">MySpace</a>');a.stumbleupon&&h.append('<a href="http://www.stumbleupon.com/submit?url='+d+"&title="+c+'" class="stumbleupon">StumbleUpon</a>');a.reddit&&h.append('<a href="http://www.reddit.com/submit?url='+d+'" class="reddit">Reddit</a>');h.children("a").attr("target","_blank");a.email&&h.append('<a href="mailto:?subject='+e+"&body="+c+"%0D%0A"+d.replace(/%/g,"%25")+'" class="email">Email</a>')}j.addHint(h.appendTo("body"),a.pos).on("destroy",function(){h.remove()})})};
b.fn.addSocial.defaults={id:"shares",useHash:!0,likeBtnTheme:"light",facebookLike:!0,twitterTweet:!0,googlePlus:!0,tumblrBtn:!0,facebook:!0,twitter:!0,gplus:!0,digg:!0,delicious:!0,myspace:!0,stumbleupon:!0,reddit:!0,email:!0,callTxt:"Found this page",pos:{posX:1,posY:2,toX:1,toY:0},localWarning:"Can't share local albums. Please upload your album first!"}})(jQuery);
(function(b){b.fn.readData=function(a,d){if(null==a||null==d)return this;d=d.split(",");var c,e=d.length,f;return this.each(function(){for(c=0;c<e;c++)if(null!=(f=b(this).data(d[c])))a[d[c]]=f})};b.fn.showin=function(){return this.each(function(){b(this).css("display","inline-block")})};b.fn.togglein=function(){return this.each(function(){b(this).css("display",b(this).is(":visible")?"inline-block":"none")})};b.fn.getDim=function(){var a=b(this).eq(0),d={width:a.width(),height:a.height()};if((0===
d.width||0===d.height)&&"none"===a.css("display")){var c=a.css("position"),e=a.css("left");a.css({position:"absolute",left:"-10000px",display:"block"});d.width=a.width();d.height=a.height();a.css({display:"none",position:c,left:e})}return d};typeof Search!==UNDEF&&(Search.start=function(a){var d=a&&a.tagName&&a.nodeName?"FORM"===a.nodeName?b(a).find("input[type=search]").val().trim():b(a).text().trim():String(a),c,e=0,f,j,h,k,m,n,s,r,l,y=RegExp("("+d.replace(/\s/g,"|")+")","i");if(Search.data&&b.isArray(Search.data)&&
Search.data.length&&d&&!(2>d.length)){c=b("<div>",{"class":"searchresults"});c.append('<p><input type="text" value="'+d+'"><a class="button">&nbsp;</a></p>');c.find("p a.button").on("click",function(){var a=b(this).siblings("input").val().trim();2<=a.length&&Search.start(a)});r=Search.rootPath&&"."!==Search.rootPath?Search.rootPath+"/":"";var w=function(a){var c=b(a.target).closest("a");if(!c.length||!window.location.href.endsWith(c.attr("href")))return b.cookie("lastSearch",d,8),!0;a.cancelBubble();
return!1};for(j=0;j<Search.data.length;j++){s=r+(Search.data[j][0].length?Search.data[j][0]+"/":"");m=Search.data[j][1].length;for(h=0;h<m;h++)if(y.test(Search.data[j][1][h])){l=Search.data[j][1][h].split(Search.sep);l[0].match(/.+\.html?:\w+$/)?(k=l[0].split(":"),n=s+"slides/"+k[0],k=s+"thumbs/"+k[0].replace(/\.html?$/,"."+k[1])):l[0].startsWith("#")?(n=s+Search.indexName+l[0],k=l[0].toLowerCase().match(/.+\.(jpg|png)$/)?s+"thumbs/"+l[0].substr(1).replace(/%25/g,"%"):r+"res/unknown.png"):(n=s+l[0],
k=s+Search.folderThumb);n=b("<a>",{href:n}).append(b("<aside>").append(b("<img>",{src:k}))).on("click",w).appendTo(c);l[1]&&n.append(b("<h5>").append(l[1]));l[2]&&l[2]!==l[1]&&n.append(b("<p>").append(l[2].trunc(192)));for(k=3;k<l.length;k++)l[k]&&l[k].trim().length&&n.append(b("<p>").append(l[k].trunc(192)));window.location.hash===l[0]&&(f=e);e++}}b(a).parents(".hint:first").fadeOut(100,function(){b(this).remove()});e?setTimeout(function(){b(".searchresults > a").eq(f||0).focus()},250):c.append(b("<p>",
{text:Search.text.notFound}));b("body").addModal(c,{uid:"searchres",darkenBackground:!1,title:Search.text.title});return!1}},Search.rootPath="",Search.init=function(a){Search.rootPath=a;if((a=b.cookie("lastSearch"))&&a.length&&"null"!==a)b.cookie("lastSearch",null),Search.start(a)});b.fn.addRegions=function(a,d,c){if(a&&a.length&&d){c=b.extend({},b.fn.addRegions.defaults,c);var e=[],f,j,h,k,m,n=d.split("::");for(d=0;d<n.length;d++)f=n[d].split(";"),4<f.length&&(f[0].length&&null!==(j=parseFloat(f[1]))&&
null!==(h=parseFloat(f[2]))&&null!==(k=parseFloat(f[3]))&&null!==(m=parseFloat(f[4])))&&e.push([f[0],100*j+"%",100*h+"%",100*k+"%",100*m+"%"]);return!e.length?this:this.each(function(){var d=b(this),f,h;f=parseInt(d.css("padding-top"),10);"a"===this.nodeName&&d.attr("href",NOLINK);for(var j=b("<div>",{"class":c.id}).hide(),m=b("<div>",{"class":c.id+"-cont"}).css({left:f,top:f,right:f,bottom:f}),k=function(a){Search.start(a.target);return!1},n=function(a){m.children("a").eq(b(a.target).index()).addClass(c.active)},
g=function(a){m.children("a").eq(b(a.target).index()).removeClass(c.active)},v=0;v<e.length;v++)if(f=b('<a href="'+NOLINK+'">'+e[v][0]+"</a>").appendTo(j),h=b("<a>").css({left:e[v][1],top:e[v][2],width:e[v][3],height:e[v][4]}).append(b("<span>",{text:e[v][0]})).appendTo(m),f.on({mouseover:n,mouseout:g}),typeof Search!==UNDEF)h.on("click",k);d.addHint(j.appendTo("body"),c.pos).on("destroy",function(){j.remove()});d.hasClass(c.active)&&m.addClass(c.active);d.on("click",function(){b(this).add(m).toggleClass(c.active)});
a.append(m)})}};b.fn.addRegions.defaults={id:"regions",active:"active",pos:{posX:1,posY:2,toX:1,toY:0}};b.fn.centerThis=function(a){a=b.extend({},b.fn.centerThis.defaults,a);return this.each(function(){var d=b(this),c=d.find(a.selector);if(c.length){var e,f,j,h,k,m=a.marginLeft+a.padding;e=a.marginRight+a.padding;var n=a.marginTop+a.padding,s=a.marginBottom+a.padding;f=c.data("ow");j=c.data("oh");if(!f||!j)c.data("ow",f=c.width()),c.data("oh",j=c.height());if(!(h=c.data("bw")))c.data("bw",h=parseInt(c.css("border-top-width"),
10)||0);if(!(k=c.data("pw")))c.data("pw",k=parseInt(c.css("padding-top"),10)||0);e=(d.innerWidth()||b("body").width())-2*(h+k)-m-e;d=(d.innerHeight()||b("body").height())-2*(h+k)-n-s;if(a.fit&&(f>e||j>d||a.enlarge))h=Math.min(e/f,d/j),f=Math.round(f*h),j=Math.round(j*h);h=Math.round((e-f)/2)+m;k=Math.round((d-j)/2)+n;if(a.animate){c.stop(!0,!1);if(a.preScale&&1!==a.preScale){var s=f*a.preScale,r=j*a.preScale;c.css({left:Math.round((e-s)/2)+m,top:Math.round((d-r)/2)+n,width:Math.round(s),height:Math.round(r)})}else a.init&&
c.css({left:h,top:k});c.animate({left:h,top:k,width:f,height:j},{duration:a.speed,easing:a.effect,complete:a.complete})}else c.css({left:h,top:k,width:f,height:j}),b.isFunction(a.complete)&&a.complete.call(this)}})};b.fn.centerThis.defaults={selector:".main",speed:500,fit:!0,enlarge:!0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,padding:0,init:!1,animate:!1,effect:"swing",complete:null};b.fn.collectMarkers=function(a){a=b.extend({},b.fn.collectMarkers.defaults,a);var d=[],c,e,f;this.each(function(j){c=
b(this).find(a.selector);if(c.length&&(e=c.data(a.mapid))&&(e=b.getLatLng(e)))f=c.data(a.captionid)||c.attr("alt"),d.push({map:e,label:j+1+(f?": "+f.stripHTML():""),link:a.dynamic?b(this):b(this).attr("href")})});return d};b.fn.collectMarkers.defaults={selector:"img:first",mapid:"map",captionid:"caption"};b.fn.markFoldersNew=function(a){a=b.extend({},b.fn.markFoldersNew.defaults,a);if(a.markNewDays){var d=Math.round((new Date).getTime()/864E5);return this.each(function(){d-parseInt(b(this).data("modified")||
0,10)<=a.markNewDays&&b(this).after(a.newLabel)})}};b.fn.markFoldersNew.defaults={markNewDays:7,newLabel:"NEW"};b.fn.turtleHelp=function(a,d){a=b.extend({},b.fn.turtleHelp.defaults,a);d=b.extend({},b.fn.turtleHelp.texts,d);var c=b(a.templ.template(d.help)),e=function(){b("body").addModal(c,{uid:"help",title:a.title.template(d.help),width:720})};if(a.useF1&&!document.touchMode)b(document).on("keydown",function(c){return document.activeElement&&"INPUT"===document.activeElement.nodeName||b.isFunction(a.enableKeyboard)&&
!a.enableKeyboard()||b("#help:visible").length?!0:112===(c?c.keyCode:window.event.keyCode)?(e(),!1):c.returnValue=!0});return this.each(function(){b(this).on("click",function(){e();return!1})})};b.fn.turtleHelp.defaults={useF1:!0};b.fn.turtleHelp.texts={help:"Using Turtle gallery;Top <b>navigation</b> bar with <b>Home</b> button;<b>Up</b> one level <em>Up arrow</em>;Author or company <b>information</b>;<b>Share</b> and <b>Like</b> buttons for social networking;<b>Search</b> button;Start slideshow <em>Numpad *</em>;Previous image <em>Left arrow</em>;Back to index page <em>Esc</em>;Toggle zoom (fit/1:1) <em>Numpad +</em>;Toggle info window <em>Numpad -</em>;Toggle thumbnail scoller;Start / Stop slideshow <em>Numpad *</em>;Next image <em>Right arrow</em>;Swipe for previous / next image".split(";")};
b.fn.turtle=function(a,d,c){a=b.extend({},b.fn.turtle.defaults,a);d=b.extend({},b.fn.turtle.texts,d);c=b.extend({},b.fn.turtle.ids,c);for(var e=function(c,d,e){b.cookie(c,d,e);a[c]=d},f="thumbsOn infoOn commentsOn metaOn mapOn regionsOn shopOn shareOn printOn fitImage slideshowDelay slideshowOn".split(" "),j,h=0;h<f.length;h++)if(null!==(j=b.cookie(f[h])))a[f[h]]=j;document.touchMode&&(a.preScale=!1);b.fn.addScroll.defaults.dontDrag="#"+c.map;b.fn.addMap.defaults.zoom=a.mapZoom;b.fn.addMap.defaults.type=
a.mapType;b.fn.addMap.defaults.resPath=a.resPath;b.fn.addShop.defaults.gateway=a.shopGateway;b.fn.addShop.defaults.id=a.shopId;b.fn.addShop.defaults.path=(a.albumName||"")+": "+a.relPath;b.fn.addShop.defaults.currency=a.shopCurrency||"EUR";b.fn.addShop.defaults.handling=a.shopHandling||null;b.fn.addShop.defaults.locale=a.shopLocale||"US";b.fn.addShop.defaults.quantityCap=a.shopQuantityCap||0;a.shopContinueUrl&&(b.fn.addShop.defaults.continueUrl=a.shopContinueUrl.match(/^https?:/i)?a.shopContinueUrl:
window.location.origin+a.shopContinueUrl);b.fn.addPlayer.defaults.backgroundColor=b("body").css("background-color").rgb2hex();b.fn.addPlayer.defaults.auto=a.videoAuto;b.fn.addPlayer.defaults.solution=a.prioritizeFlash?"flash,html":"html,flash";b.fn.centerThis.defaults.fit=a.fitImage;b.fn.centerThis.defaults.animate=a.transitions;b.fn.centerThis.defaults.padding=a.fitPadding;b.fn.centerThis.defaults.enlarge=!a.fitShrinkonly;b.fn.centerThis.defaults.selector="."+c.main;var f=a.shares,k;for(k in f)f.hasOwnProperty(k)&&
(b.fn.addSocial.defaults[k]=f[k]);b.fn.addSocial.defaults.callTxt=d.checkOutThis;a.shareSlides=a.shares&&(a.shares.pinItBtn||a.shares.twitter||a.shares.gplus||a.shares.digg||a.shares.delicious||a.shares.myspace||a.shares.stumbleupon||a.shares.reddit||a.shares.email);var m=Math.round((new Date).getTime()/864E5),n=b.browser.msie&&8>=b.browser.version;return this.each(function(){var f,h,l,j,k,q,t,g={},v,z,p=null,x=null,u=0,B=null,D=null,C="index"===b("body").attr("id"),A=C&&!a.linkSlides,G=[],M=!1,F=
!1,N=null,T=null,Q=b(window).width(),X=b(window).height(),ta=function(){clearTimeout(T);T=setTimeout(function(){var c=b(window).width(),d=b(window).height();if(c!==Q||d!==X)p&&p.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:P()}),Q=c,X=d},100)},ua=-1,ja=-1,Y=function(c){if(l&&l.is(":visible")||document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return!0;switch(c?c.keyCode:window.event.keyCode){case 13:case 10:A?
E():window.location.href=f.eq(u).attr("href");break;case 27:fa();break;case 37:u=(u?u:f.length)-1;I();break;case 38:u&&a.cols&&(u=Math.max(0,u-a.cols));I();break;case 39:u=(u+1)%f.length;I();break;case 40:u<f.length-1&&a.cols&&(u=Math.min(f.length-1,u+a.cols));I();break;case 97:case 35:u=f.length-1;I();break;case 103:case 36:u=0;I();break;case 106:case 179:a.slideshowFullScreen&&(F=!1,b("html").fullScreen(!0));A&&E();J();break;default:return c.returnValue=!0}return!1},va=function(d){if(l.is(":hidden")||
document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return!0;switch(d?d.keyCode:window.event.keyCode){case 27:U();break;case 37:d=b("."+c.main);var e=b("."+c.img);d.length&&(d.position().left>=a.fitPadding?ga():(e=Math.round(0.8*e.width()),d.animate({left:Math.min(d.position().left+e,a.fitPadding)},a.scrollDuration)));break;case 38:d=b("."+c.main);e=b("."+c.img);d.length&&!(d.position().top>
a.fitPadding)&&(e=Math.round(0.8*e.width()),d.animate({top:Math.min(d.position().top+e,a.fitPadding)},a.scrollDuration));break;case 39:d=b("."+c.main);e=b("."+c.img);if(d.length)if(d.position().left+d.outerWidth()<=e.width()-a.fitPadding)K();else{var g=Math.round(0.8*e.width());d.animate({left:Math.max(d.position().left-g,e.width()-a.fitPadding-d.outerWidth())},a.scrollDuration)}break;case 40:d=b("."+c.main);e=b("."+c.img);d.length&&!(d.position().top+d.outerHeight()<=e.height()-a.fitPadding)&&(g=
Math.round(0.8*e.width()),d.animate({top:Math.max(d.position().top-g,e.height()-a.fitPadding-d.outerHeight())},a.scrollDuration));break;case 97:case 35:A?E(f.length-1):window.location.href=a.firstPage;break;case 103:case 36:A?E(0):window.location.href=a.firstPage;break;case 106:case 179:B?L():(a.slideshowFullScreen&&(F=!1,b("html").fullScreen(!0)),J());break;case 107:a.fitImage?ka():la();break;case 109:d=a.fitFreespace;a.fitFreespace=!1;a.infoOn||a.thumbsOn?(ma(),na(),p&&d&&p.centerThis({fit:a.fitImage,
marginTop:0,marginBottom:0})):(oa(),pa(),p&&d&&p.centerThis({fit:a.fitImage,marginTop:v.outerHeight()||0,marginBottom:t.outerHeight()||0}));a.fitFreespace=d;break;default:return d.returnValue=!0}return!1},fa=function(){(0<a.level?window:parent).location.href=a.uplink||"../"},U=function(){A||(b.cookie("curr:"+a.relPath,a.curr,600),window.location.href=a.indexPage);var d=b("[role=main]"),e;l.is(":visible")?(L(),a.slideshowFullScreen&&b("html").fullScreen(!1),a.skipIndex?fa():(d.length&&d.is(":hidden")&&
(d.children().andSelf().css({visibility:"visible",display:"block"}),d=d.find("."+c.items),d.children("."+c.cont).trigger("adjust"),setTimeout(function(){d.loadImages()},100)),a.transitions?l.fadeOut(a.speed):l.hide(),p&&(e=p.find("."+c.video+",."+c.audio)).length&&e.trigger("pause"),b("#"+c.map+">."+c.cont).trigger("adjust"),"no"!==a.hash&&b.history.load(""))):d.length&&d.is(":hidden")&&d.children().andSelf().css({visibility:"visible",display:"block"});d.find("[role=scroll]").data("dragOn",!1)},wa=
function(){var a=f.eq(u).children("img:first");return a.length?(a.data(c.link)||a.data(c.src)).getFile():null},I=function(d){var e=f.eq(u);f.filter("."+c.active).removeClass(c.active);e.addClass(c.active);!a.skipIndex&&(typeof d===UNDEF||!1===d)&&e.trigger("setactive");z&&(z.filter("."+c.active).removeClass(c.active),z.eq(u).addClass(c.active).trigger("setactive"));a.mapOnIndex&&b("#"+c.map+" ."+c.cont).trigger("setactive",e.find("img:first").data(c.mapid));b.cookie("curr:"+a.relPath,u,600)},Da=function(d){var e,
g;if(g=d)if(g=d.length){if("number"===a.hash)d=(parseInt(d,10)||1)-1;else a:{var h;for(g=0;g<f.length;g++)if(h=f.eq(g).children("img:first"),(h=h.length&&(h.data(c.link)||h.data(c.src)).getFile())&&h===d){d=g;break a}d=-1}g=0<=(e=d)&&e<f.length}g?(E(e),a.slideshowAuto=!1):(U(),b.browser.msie&&setTimeout(function(){b("[role=main]").show();b("[role=scroll]").trigger("adjust")},10))},ga=function(){L();if(A)u?E(u-1):"startover"===a.afterLast?E(f.length-1):p.find("."+c.main).trigger("dragcancel");else{var d=
b("."+c.controls+" ."+c.prev);d.length&&(window.location.href=d.attr("href"))}},K=function(){var g=[];if(A)if(u<f.length-1)qa(),E(u+1);else if("startover"===a.afterLast||B&&a.slideshowLoop)qa(),E(0);else{if("onelevelup"===a.afterLast){if(a.uplink){fa();return}}else if("backtoindex"===a.afterLast){if(!a.skipIndex){U();return}}else"ask"===a.afterLast&&(L(),g.push({t:d.startOver,h:function(){E(0)}}),a.uplink&&g.push({t:0<a.level?d.upOneLevel:d.homepageLinkText||d.backToHome,h:function(){fa()}}),a.skipIndex||
g.push({t:d.backToIndex,h:function(){U()}}),b("body").addModal(b("<p>",{text:d.atLastPageQuestion}),g,{uid:"dialog",title:d.atLastPage,width:480,resizable:!1}));p.find("."+c.main).trigger("dragcancel")}else{var h=b("."+c.controls+" ."+c.next);h.length&&(h=h.attr("href"))&&h.length&&h!==NOLINK?(e("slideshowDelay",a.slideshowDelay),B&&e("slideshowOn",!0,8),window.location.href=h):"ask"===a.afterLast&&(L(),a.firstPage&&g.push({t:d.startOver,h:function(){B&&e("slideshowOn",null!=B,8);window.location.href=
a.firstPage}}),a.uplink&&g.push({t:0<a.level?d.upOneLevel:d.homepageLinkText||d.backToHome,h:function(){window.location.href=a.uplink}}),a.indexPage&&g.push({t:d.backToIndex,h:function(){window.location.href=a.indexPage}}),b("body").addModal(b("<p>",{text:d.atLastPageQuestion}),g,{uid:"dialog",title:d.atLastPage,width:480,resizable:!1}))}},qa=function(){B&&(clearTimeout(B),B=setTimeout(K,a.slideshowDelay))},J=function(){var b;g.play.hide();g.pause.showin();(b=p.find("."+c.video+",."+c.audio)).length&&
(b.data("playing")||a.videoAuto)?D=!0:B=setTimeout(K,a.slideshowDelay);H()},L=function(){g.pause.hide();g.play.showin();B=clearTimeout(B);H();A||e("slideshowOn",!1)},Z=!1,xa=function(){!F&&!Z&&(Z=!0,q.stop(!0,!1).fadeTo(200,0.8,function(){n&&q.css("filter",null)}),N=setTimeout(function(){H()},1500))},H=function(){F?N=setTimeout(function(){H()},750):(Z=!1,N=clearTimeout(N),q.fadeTo(500,a.controlOutOpacity))},Ea=function(){Z?(Z=!1,N=clearTimeout(N),q.fadeTo(500,a.controlOutOpacity)):xa();return!0},
na=function(){a.infoOn&&(g.hideInfo.hide(),g.showInfo.showin(),a.transitions?t.animate({bottom:-t.outerHeight()},500,function(){t.hide()}):t.css({bottom:-t.outerHeight()}).hide(),p&&a.fitFreespace&&p.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:0}),H(),e("infoOn",!1))},pa=function(){if(!a.infoOn){g.showInfo.hide();g.hideInfo.showin();t.is(":hidden")&&t.show().css({bottom:-t.outerHeight()});var b=function(){t.children("."+c.map).trigger("adjust")};a.transitions?t.animate({bottom:0},500,b):
(t.show().css({bottom:0}),b());p&&a.fitFreespace&&p.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:t.outerHeight()});H();e("infoOn",!0)}},ma=function(){a.thumbsOn&&(g.hideThumbs.hide(),g.showThumbs.showin(),a.transitions?k.animate({top:-v.outerHeight()-10},500):k.css({top:-v.outerHeight()-10}),p&&a.fitFreespace&&p.centerThis({fit:a.fitImage,marginTop:0,marginBottom:P()}),H(),e("thumbsOn",!1))},oa=function(){a.thumbsOn||(g.showThumbs.hide(),g.hideThumbs.showin(),a.transitions?k.animate({top:0},
500):k.css({top:0}),p&&a.fitFreespace&&p.centerThis({fit:a.fitImage,marginTop:v.outerHeight(),marginBottom:P()}),H(),e("thumbsOn",!0))},O=function(){return a.fitFreespace&&0<=k.position().top?v.outerHeight()||0:0},P=function(){return a.fitFreespace&&t.is(":visible")?t.outerHeight()||0:0},ka=function(){g.noresize.hide();g.resize.showin();p.centerThis({fit:!1,marginTop:O(),marginBottom:P()});H();e("fitImage",!1)},la=function(){g.resize.hide();g.noresize.showin();p.centerThis({fit:!0,marginTop:O(),marginBottom:P()});
H();e("fitImage",!0)},Fa=function(){if(!0===b(this).parents("[role=scroll]").data("dragOn"))return!1;E(b(this));return!1},ha=function(a){a&&a.length&&(a.stop(),a.trigger("destroy"),a.find("."+c.video+",."+c.audio).trigger("destroy"),a.find("."+c.share+"-"+c.icon).trigger("destroy"),a.find("."+c.map).trigger("destroy"),a.remove())},E=function(e){if("number"!==typeof e)if(e){var g;if(null==e)g=u;else if("number"===typeof e)g=Math.minMax(0,e,f.length);else if(0>(g=f.index(e))&&z)g=z.index(e);e=g}else e=
u;l.is(":hidden")&&(p&&p.data("curr")!==e&&ha(p),a.transitions?l.fadeIn(a.speed):l.show(),v.children(":first").loadImages());if(!(p&&p.data("curr")===e)){g=f.eq(e);var h=g.attr("href"),k=g.children("img").eq(0),m,n;if(k.length){p&&(ha(x),x=p,x.css({zIndex:0}),x.find("."+c.main).trigger("unswipe").off("touchstart"),x.unmousewheel());(m=l.children("."+c.img).not(p)).length&&m.stop().remove();p=b("<div>",{"class":c.img}).css({zIndex:1,display:"none"}).data({curr:e}).on("click",function(a){if(b(a.target).hasClass("img"))return U(),
!1}).appendTo(l);j.css({opacity:0,display:"block"}).animate({opacity:1});u=e;I();var q=b("<div>",{"class":c.main});if(k.data(c.isother)||!h)g=Math.max(k.data(c.width)||l.width()-160,280),n=Math.max(k.data(c.height)||l.height()-120,200),q.addClass(c.other),(h=k.data(c.content))&&(h=h.trim()).length?q.css({width:g,height:n}).append(h.startsWith("http://")?b("<iframe>",{width:"100%",height:"100%",src:h,frameborder:0,allowfullscreen:"allowfullscreen"}):h):(q.append(b("<a>",{href:k.data(c.link),target:"_blank"})),
q.append(b("<p>",{text:d.clickToOpen})),q.children("a:first").append(k.clone())),V(q);else if(k.data(c.isvideo)||k.data(c.isaudio)){g=k.data(c.width)||l.width()-160;n=k.data(c.height)||l.height()-120;(D=B)&&(B=clearTimeout(B));if(k.data(c.isvideo)){var h=l.width()-40,r=l.height()-40;if(g>h||n>r)h=Math.min(h/g,r/n),g=Math.round(g*h),n=Math.round(n*h);q.addClass(c.video)}else g=Math.max(320,k.data(c.width)||0),n=Math.max(180,k.data(c.height)||0),q.addClass(c.audio);q.css({width:g,height:n}).data({ow:g,
oh:n});var t=function(){D&&(D=clearTimeout(B),B=setTimeout(K,a.slideshowDelay))};setTimeout(function(){m=q.addPlayer({src:k.data(c.link),title:k.attr("alt"),poster:k.data(c.poster),ended:t,resPath:a.resPath})},a.speed/3);V(q)}else g=k.data(c.width),n=k.data(c.height),r=b(new Image),q.addClass(c.image).append(r).css({width:g,height:n}).data({ow:g,oh:n}),r.attr({src:h,width:g||"auto",height:n||"auto"}),r[0].complete?(k.data("cached",!0),V(q)):r.on("load",function(){k.data("cached",!0);V(q)}).attr({src:h});
ya(k,e)}}},V=function(d){j&&j.length&&(a.transitions?j.stop(!0,!1).animate({opacity:0},{duration:100,complete:function(){b(this).hide()}}):j.hide());if(A)a.transitions?x&&x.stop(!0,!1).animate({opacity:0},a.speed/2,"linear",function(){ha(x)}):ha(x),p.children().not("."+c.bottom).remove(),p.append(d);else if(d=p.find("."+c.main),!d.length)return;var e=d.hasClass(c.image),g=d;if(a.rightClickProtect)g.on("contextmenu",noAction);if(!document.touchMode&&a.enableMouseWheel)p.on("mousewheel",function(a,
b){a.preventDefault();0<b?ga():K();return!1});setTimeout(function(){if(document.touchMode)p.on("touchstart",Ea),g.on("click",function(){return!1});else if((1<f.length||!A)&&g.hasClass(c.image))g.on("click",function(){K();return!1});g.hasClass(c.image)&&(1<f.length||!A)&&g.addSwipe(function(){b(this).trigger("unswipe");K()},function(){b(this).trigger("unswipe");ga()})},a.speed/2);setTimeout(function(){a.transitions?p.css({opacity:0,display:"block"}).animate({opacity:1},{duration:a.speed,complete:b.browser.cssFilter?
function(){p.css({filter:""})}:null}).centerThis({init:!0,speed:Math.round(0.75*a.speed),marginTop:O(),marginBottom:P(),preScale:e&&a.preScale,animate:e&&a.preScale&&1!==a.preScale,fit:a.fitImage}):p.show().centerThis({init:!0,marginTop:O(),marginBottom:P(),fit:a.fitImage});var d=u,g=p.find("nav a."+c.regions+"-icon").eq(0);g.length&&(d=f.eq(d).find("img:first"),g.addRegions(p.find("."+c.main).eq(0),d.data(c.regions)))},50);if(A){var h;d=b();u>=f.length-1&&d.add(f.eq(u+1).children("img").eq(0));0<
u&&d.add(f.eq(u-1).children("img").eq(0));d.each(function(){var a=b(this);!a.data(c.isvideo)&&(!a.data(c.isother)&&!a.data("cached")&&(h=a.data(c.src)))&&b("<img>").on("load",function(){a.data("cached",!0)}).attr({src:h})});"number"===a.hash?b.history.load(u+1):"fileName"===a.hash&&(d=wa())&&b.history.load(d)}else a.slideshowOn&&J()},ya=function(g,h){var j,k,l,m,n=Math.round(0.8*p.width())-30;A?(t=b("<div>",{"class":c.bottom}).appendTo(p),j=b("<div>",{"class":c.cont}).appendTo(t),typeof h!==UNDEF&&
a.showImageNumbers&&j.append('<div class="nr"><strong>'+(h+1)+"</strong> / "+f.length+"</div>"),(l=g.data(c.caption))&&j.append(l)):j=t.children("."+c.cont);k=b("<nav>").prependTo(j);j.width()>n&&j.width(n);var q=function(d){var g=b(d.target);d=g.data("rel");var f=j.children("."+d),h=f.is(":visible"),k=P(),l=f.outerHeight(!0);g.toggleClass(c.active,!h);d===c.map?(g=function(){h||f.children("."+c.mapcont).trigger("adjust")},a.transitions?f.slideToggle("fast",g):(f.toggle(),setTimeout(g,50))):a.transitions?
f.slideToggle("fast"):f.toggle();p&&a.fitFreespace&&p.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:k+(h?-l:l)});e(d+"On",!h);return!1},n=function(e){var f=b("<a>",{href:NOLINK,"class":e+"-"+c.icon}).data("rel",e).appendTo(k);a.buttonLabels?(f.text(d[e+"Btn"]||e),f.addHint(d[e+"Label"]||"")):f.addHint(d[e+"Label"]||d[e+"Btn"]||e);f.on("click",q)},r;if(!A&&(r=j.children("."+c.comments)).length)r.data("rel",c.comments),n(c.comments);for(var v=[c.meta,c.map,c.shop,c.share,c.print],w=0;w<v.length;w++)if(r=
v[w],null!=g.data(r)&&(r!=c.map||a.mapOnSlide)){var x=r;b("<div>",{"class":c.panel+" "+x}).data("rel",x).appendTo(j).append(b("<div>",{"class":c.icon}));n(r)}if(!g.data(c.isvideo)&&!g.data(c.isaudio)&&!g.data(c.isother)){if(a.fotomotoOn){var y=b("<a>",{href:NOLINK,"class":c.fotomoto+"-"+c.icon,text:a.buttonLabels?"Fotomoto":""}).appendTo(k);y.addHint(LOCAL?d.locationWarning:(a.buttonLabels?"":"<h5>Fotomoto</h5>")+d.fotomotoHint);setTimeout(function(){y.on("click",function(){typeof FOTOMOTO!==UNDEF&&
!LOCAL&&FOTOMOTO.API.showWindow(10,g.attr("src").replace(a.thumbs+"/",a.slides+"/"));return!1})},a.speed)}g.data(c.regions)&&(n=b("<a>",{href:NOLINK,"class":c.regions+"-"+c.icon}).appendTo(k),a.buttonLabels&&n.text(d.people),a[c.regions+"On"]&&n.addClass(c.active),n.on("click",function(){e(c.regions+"On",!b(this).hasClass(c.active))}))}if(!a.rightClickProtect&&(l=g.data(c.link)))n=b("<a>",{href:l,"class":c.link+"-"+c.icon,target:"_blank"}).appendTo(k),a.buttonLabels?(n.text(g.data(c.isoriginal)?d.original:
d.hiRes),n.addHint(d.saveTip)):n.addHint("<strong>"+(g.data(c.isoriginal)?d.original:d.hiRes)+"</strong><br><small>"+d.saveTip+"</small>");if(a.shareSlides){var B=b("<a>",{href:NOLINK,"class":c.share+"-"+c.icon}).appendTo(k);a.buttonLabels&&B.text(d.share);A?(m="number"===a.hash?u+1:wa(),setTimeout(function(){B.addSocial({hash:m,title:(g.data(c.caption)||"").stripHTML(),image:g.data(c.src)})},a.speed)):B.addSocial({useHash:!1,title:(g.data(c.caption)||"").stripHTML(),image:g.data(c.src)})}j.children("."+
c.panel).each(function(){var d=b(this),e=d.data("rel");if(e&&null!==(l=g.data(e))){if(e===c.map){var f=b("<div>",{"class":c.mapcont}).appendTo(d);f.width(j.width()-30);if(a.mapAll)f.addMap({click:function(){A?E(this.link):window.location.href=this.link},markers:G,curr:parseInt(A?g.data(c.mapid):z.filter("."+c.active).find("img:first").data(c.mapid),10)});else{var h=(g.data(c.caption)||"").stripHTML()||g.attr("alt")||u+1+"";f.addMap({map:l,label:h})}setTimeout(function(){f.trigger("adjust")},a.speed)}else e===
c.shop?d.addClass("clearfix").addShop({file:g.prop("src"),options:l}):d.append(l);a[e+"On"]?k.children("a."+e+"-icon").addClass(c.active):d.hide()}});k.html().length||k.remove();a.infoOn||t.hide()},za=function(){q.children("a").not(g.play).addHint();var c=b("<div>",{"class":"slideshowdelay",text:g.play.prop("title")}).hide().appendTo(b("body")),d=b("<form>").appendTo(c);d.on("submit",function(){J()}).append(b("<input>",{type:"text",value:a.slideshowDelay/1E3}).focus().on("change",function(){e("slideshowDelay",
Math.round(parseFloat(1E3*b(this).val())||b.fn.turtle.defaults.slideshowDelay));return!0})).append(b("<a>",{"class":"button",href:NOLINK,text:" "}).on("click",function(){J()}));d.find("input");g.play.prop("title","").addHint(c);q.hide();q.on({mouseenter:function(){F=!0;b(this).stop(!0,!1).fadeTo(200,1)},mouseleave:function(){F=!1;b(this).stop(!0,!1).fadeTo(200,0.8)}});if(!document.touchMode)l.on("mousemove",function(a){if(!M&&(ua-a.clientY||ja-a.clientX))0<=ja&&xa(),ja=a.clientX,ua=a.clientY})};setTimeout(function(){if(!a.licensee&&
(typeof _jaShowAds===UNDEF||_jaShowAds)&&!LOCAL&&!b.cookie("ls")){var c=a.resPath+"/logo.png";b(new Image).load(function(){var a=b("<div>").css({background:"url("+c+") 10px top no-repeat",textAlign:"left",minHeight:"60px",paddingLeft:"90px"}).html("<h4>Turtle skin <small>"+VER+"</small></h4><p>Unlicensed</p>");b("body").addModal(a,{width:240,autoFade:600});b.cookie("ls",!0)}).attr("src",c)}},1E3);if(C){f=b(this).find("td > a");if(!f.length)return;C=b(a.header);if(null!=C&&C.length){if(a.showStart){var $=
b("<div>",{"class":c.startShow}).appendTo(C),ra=b("<div>",{"class":c.startTxt,width:"auto",text:d.startSlideshow}).appendTo("body"),Aa=$.width(),Ba=ra.outerWidth();$.append(ra);if(Aa<Ba)ra.on({mouseenter:function(){$.stop(!0,!1).animate({width:Ba},500)},mouseleave:function(){$.stop(!0,!1).animate({width:Aa},500)}});$.on({click:function(){if(A)return a.slideshowFullScreen&&b("html").fullScreen(!0),E(),J(),!1;e("slideshowOn",!0,8);window.location.href=f.filter("."+c.active).attr("href")}})}a.uplink=
C.find("."+c.parent+">a").attr("href")||""}h=b("."+c.items);var W,aa,Ca,Ga=function(){b.cookie("curr:"+a.relPath,f.index(b(this)),600)};f.each(function(){W=b(this);aa=W.find("img").eq(0);if(aa.length){if(a.rightClickProtect)W.on("contextmenu",noAction);aa.attr("src").endsWith("/"+a.loadImg)&&aa.addClass(c.toload);a.markNewDays&&m-parseInt(aa.data(c.modified)||0,10)<=a.markNewDays&&W.append("<span>",{"class":c.newItem,text:d.newItem});(Ca=W.attr("title"))&&W.addHint(Ca);if(!A)f.on("click",Ga)}});setTimeout(function(){h.loadImages()},
50);if(document.touchMode)h.on("scroll",function(){b(this).loadImages()});h.find("."+c.folders).on("click",function(){b.cookie("curr:"+a.relPath,null);return!0});if(a.mapOnIndex||a.mapAll&&a.mapOnSlide)G=f.collectMarkers({dynamic:A});a.mapOnIndex&&G.length&&b("#"+c.map+" ."+c.cont).addMap({click:function(){A?E(this.link):window.location.href=this.link},markers:G,range:999,curr:0});null===(u=b.cookie("curr:"+a.relPath))?(u=0,I(!0)):setTimeout(function(){I()},300);if(!document.touchMode&&(b.isFunction(a.enableKeyboard)||
a.enableKeyboard))b(window).on("keydown",Y);if(A){f.on("click",Fa);l=b("<div>",{"class":c.gallery}).attr("role","gallery").appendTo("body");j=b("<div>",{"class":c.wait}).appendTo(l);k=b("<div>",{"class":c.navigation}).appendTo(l);var ba,ia,ca,R,da=0;v=b("<div>",{"class":c.scrollbox}).appendTo(k);R=b("<div>",{"class":"wrap"}).appendTo(v);R=b("<ul>",{"class":c.cont}).appendTo(R);f.each(function(){ba=b(this);ca=ba.find("img").eq(0);ca.length&&(ia=b("<a>",{href:NOLINK}).appendTo(b("<li>").appendTo(R)),
b("<img>",{src:ca.attr("src"),"class":ca.attr("class")}).data({src:ca.data("src")}).appendTo(ia),ia.addHint(ba.attr("title")||ba.next()&&ba.next().html()),da+=ia.outerWidth())});da+=2*R.children().length;R.width(da);R.scrollThumbs({enableMouseWheel:a.enableMouseWheel});z=v.find("li > a");z.on("click",function(){if(!0===b(this).parents("[role=scroll]").data("dragOn"))return!1;b(this).hasClass(c.active)||E(z.index(b(this)));I();return!1});q=b("<nav>",{"class":c.controls+" clearfix"}).appendTo(k);g.prev=
b("<a>",{"class":c.prev,title:d.previousPicture}).appendTo(q);g.up=b("<a>",{"class":c.up,title:a.skipIndex?d.upOneLevel:d.backToIndex}).appendTo(q);g.noresize=b("<a>",{"class":c.noresize,title:d.oneToOneSize}).appendTo(q);g.resize=b("<a>",{"class":c.resize,title:d.fitToScreen}).appendTo(q);g.hideInfo=b("<a>",{"class":c.hideInfo,title:d.hideInfo}).appendTo(q);g.showInfo=b("<a>",{"class":c.showInfo,title:d.showInfo}).appendTo(q);g.hideThumbs=b("<a>",{"class":c.hideThumbs,title:d.hideThumbs}).appendTo(q);
g.showThumbs=b("<a>",{"class":c.showThumbs,title:d.showThumbs}).appendTo(q);g.play=b("<a>",{"class":c.play,title:d.startAutoplay}).appendTo(q);g.pause=b("<a>",{"class":c.pause,title:d.stopAutoplay}).appendTo(q);g.next=b("<a>",{"class":c.next,title:d.nextPicture}).appendTo(q);var sa=0;q.children().each(function(){"none"!==b(this).css("display")&&(sa+=b(this).outerWidth())});q.width(sa);g.prev.on("click",function(){L();ga();return!1});g.up.on("click",function(){L();U();return!1});g.noresize.on("click",
function(){ka();return!1});g.resize.on("click",function(){la();return!1});a.fitImage?(g.resize.hide(),g.noresize.showin()):(g.noresize.hide(),g.resize.showin());g.hideInfo.on("click",function(){na();return!1});g.showInfo.on("click",function(){pa();return!1});a.infoOn?(g.showInfo.hide(),g.hideInfo.showin()):(g.hideInfo.hide(),g.showInfo.showin());g.hideThumbs.on("click",function(){ma();return!1});g.showThumbs.on("click",function(){oa();return!1});a.thumbsOn?(g.showThumbs.hide(),g.hideThumbs.showin()):
(g.hideThumbs.hide(),g.showThumbs.showin());g.play.on("click",function(){a.slideshowFullScreen&&(F=!1,b("html").fullScreen(!0));J();return!1});g.pause.on("click",function(){L();return!1});a.slideshowAuto?(g.play.hide(),g.pause.showin()):(g.pause.hide(),g.play.showin());g.next.on("click",function(){qa();K();return!1});za();a.thumbsOn||k.css("top",-v.outerHeight()-10);v.on({mouseenter:function(){H();M=!0},mouseleave:function(){M=!1}});a.hash&&"no"!==a.hash&&b.history.init(Da);a.slideshowAuto?(a.slideshowFullScreen&&
b("html").fullScreen(!0),E(u),J()):a.skipIndex&&E(u);if(!document.touchMode&&(b.isFunction(a.enableKeyboard)||a.enableKeyboard))b(window).on("keydown",va)}}else{f=b(this);l=b("."+c.gallery);k=b("."+c.navigation);q=b("."+c.controls);p=b("."+c.img);t=b("."+c.bottom);f=p.children("."+c.main);u=0;v=b("."+c.scrollbox);z=v.find("li > a");var S=f.find("img:first");a.mapAll&&(G=z.collectMarkers());var Y=v.find("."+c.cont),ea=0;z.addHint().each(function(){ea+=b(this).outerWidth()});ea+=2*z.length;Y.width(ea);
Y.scrollThumbs({enableMouseWheel:a.enableMouseWheel});z.on("click",function(){return!b(this).parents("[role=scroll]").data("dragOn")});Y.trigger("setactive");a.thumbsOn||k.css("top",-v.outerHeight()-10);g.prev=q.children("."+c.prev);g.up=q.children("."+c.up);g.noresize=q.children("."+c.noresize);g.resize=q.children("."+c.resize);g.hideInfo=q.children("."+c.hideInfo);g.showInfo=q.children("."+c.showInfo);g.hideThumbs=q.children("."+c.hideThumbs);g.showThumbs=q.children("."+c.showThumbs);g.play=q.children("."+
c.play);g.pause=q.children("."+c.pause);g.next=q.children("."+c.next);g.up.on("click",function(){b.cookie("curr:"+a.relPath,a.curr,600);return!0});g.noresize.on("click",function(){ka();return!1});g.resize.on("click",function(){la();return!1});g.hideInfo.on("click",function(){na();return!1});g.showInfo.on("click",function(){pa();return!1});g.hideThumbs.on("click",function(){ma();return!1});g.showThumbs.on("click",function(){oa();return!1});g.play.on("click",function(){a.slideshowFullScreen&&(F=!1,
b("html").fullScreen(!0));J();return!1});g.pause.on("click",function(){L();return!1});a.slideshowAuto?(g.play.hide(),g.pause.showin()):(g.pause.hide(),g.play.showin());g.next.on("click",function(){K();return!1});za();a.thumbsOn?(g.showThumbs.hide(),g.hideThumbs.showin(),k.css({top:0}).removeClass("hide")):(g.hideThumbs.hide(),g.showThumbs.showin(),k.css({top:-v.outerHeight()-10}).removeClass("hide"));a.infoOn?(g.showInfo.hide(),g.hideInfo.showin(),t.show().css({bottom:0})):(g.hideInfo.hide(),g.showInfo.showin(),
t.css({bottom:-t.outerHeight()}).hide());a.fitImage?(g.resize.hide(),g.noresize.showin()):(g.noresize.hide(),g.resize.showin());S.length&&(f.hasClass(c.image)&&!S[0].complete?(S.on("load",function(){S.data("cached",!0);V()}).attr({src:S.attr("src")}),j=b("<div>",{"class":c.wait}).appendTo(l),j.fadeIn()):(S.data("cached",!0),V()),ya(S));if(!document.touchMode&&(b.isFunction(a.enableKeyboard)||a.enableKeyboard))b(window).on("keydown",va)}b(window).on("resize",ta);if(document.touchMode)b(window).on("orientationchange",
ta)})};b.fn.turtle.defaults={slides:"slides",thumbs:"thumbs",loadImg:"load.gif",hash:"fileName",resPath:"",relPath:"",level:0,skipIndex:!1,showStart:!0,speed:600,controlbarOpacity:0,transitions:!0,preScale:0.95,slideshowDelay:3E3,slideshowLoop:!1,slideshowAuto:!1,slideshowFullScreen:!1,markNewDays:30,afterLast:"ask",infoOn:!0,showImageNumbers:!0,thumbsOn:!1,fitImage:!0,fitShrinkonly:!0,fitFreespace:!0,fitPadding:15,borderWidth:10,rightClickProtect:!1,metaOn:!1,mapOn:!1,mapOnIndex:!1,mapOnSlide:!1,
shopOn:!1,fotomotoOn:!1,shareOn:!1,printOn:!1,enableKeyboard:!0,enableMouseWheel:!0,numberLinks:!1,videoAuto:!0,scrollDuration:1E3};b.fn.turtle.texts={startSlideshow:"Start slideshow",close:"Close",atLastPage:"At last page",atLastPageQuestion:"Where to go next?",startOver:"Start over",backToHome:"Back to home",stop:"Stop",upOneLevel:"Up one level",backToIndex:"Back to index page",previousPicture:"Previous picture",nextPicture:"Next picture",oneToOneSize:"1:1 size",fitToScreen:"Fit to screen",showInfo:"Show caption / info",
hideInfo:"Hide caption / info",showThumbs:"Show thumbnails",hideThumbs:"Hide thumbnails",startAutoplay:"Start autoplay",stopAutoplay:"Stop autoplay",closeWindow:"Close window",clickToOpen:"Click to open this document with the associated viewer",download:"Download",original:"Original",hiRes:"Hi res.",saveTip:"Use Right click -> Save link as... to download",commentsBtn:"Comments",commentsLabel:"Add a comment, view other's comments",metaBtn:"Photo data",metaLabel:"Display photograpic (Exif/Iptc) data",
mapBtn:"Map",mapLabel:"Show the photo location on map",shopBtn:"Buy",shopLabel:"Show options to buy this item",shareBtn:"Share",shareLabel:"Share this photo over social sites",locationWarning:"Works only when uploaded"};b.fn.turtle.ids={gallery:"gallery",items:"items",folders:"folders",navigation:"navigation",scrollbox:"scrollbox",active:"active",parent:"parent",bottom:"bottom",img:"img",main:"main",image:"image",video:"video",audio:"audio",other:"other",wait:"wait",cont:"cont",panel:"panel",icon:"icon",
caption:"caption",meta:"meta",map:"map",mapcont:"mapcont",mapid:"mapid",shop:"shop",fotomoto:"fotomoto",share:"share",print:"print",comments:"comments",link:"link",poster:"poster",isoriginal:"isoriginal",content:"content",width:"width",height:"height",src:"src",ext:"ext",thumbExt:"thumbext",regions:"regions",isvideo:"isvideo",isaudio:"isaudio",isother:"isother",modified:"modified",startShow:"startshow",startBtn:"startbtn",startTxt:"starttxt",controls:"controls",prev:"prev",next:"next",up:"up",noresize:"noresize",
resize:"resize",hideInfo:"hideinfo",showInfo:"showinfo",hideThumbs:"hidethumbs",showThumbs:"showthumbs",play:"play",pause:"pause",newItem:"newlabel",showHint:"showhint",toload:"toload"}})(jQuery);
